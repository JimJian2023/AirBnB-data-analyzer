2024-12-05 10:58:07,904 [INFO] data_export.py:53 - 创建基础目录: data
2024-12-05 10:58:07,904 [INFO] data_export.py:58 - 创建date目录: data\by_date
2024-12-05 10:58:07,904 [INFO] data_export.py:58 - 创建room目录: data\by_room
2024-12-05 10:58:07,908 [INFO] advanced_analyzer.py:424 - === 开始Airbnb数据收集程序 ===
2024-12-05 10:58:08,071 [INFO] advanced_analyzer.py:101 - 成功读取 1 个房间ID
2024-12-05 10:58:08,071 [INFO] advanced_analyzer.py:435 - 生成 1 个URL
2024-12-05 10:58:08,072 [INFO] advanced_analyzer.py:439 - 创建数据目录: data/airbnb_data_20241205_105808
2024-12-05 10:58:08,072 [INFO] advanced_analyzer.py:295 - === 开始批量分析房源 ===
2024-12-05 10:58:08,096 [INFO] bit_browser_manager.py:103 - 活动浏览器响应: {
  "success": true,
  "data": {
    "34dc763412e34341a759c1ef1ec38580": 22328
  }
}
2024-12-05 10:58:08,991 [INFO] bit_browser_manager.py:128 - 找到 1 个活动浏览器
2024-12-05 10:58:09,547 [INFO] bit_browser_manager.py:53 - 开始设置语言偏好
2024-12-05 10:58:09,549 [INFO] bit_browser_manager.py:65 - 设置语言为: en
2024-12-05 10:58:09,553 [ERROR] bit_browser_manager.py:91 - 设置语言偏好时发生错误: Message: invalid cookie domain: Cookie 'domain' mismatch
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x0023C9C8]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 10:58:09,553 [INFO] advanced_analyzer.py:313 - 成功连接到浏览器: 34dc763412e34341a759c1ef1ec38580
2024-12-05 10:58:09,553 [INFO] advanced_analyzer.py:322 - 设置并发线程数: 1
2024-12-05 10:58:09,553 [INFO] advanced_analyzer.py:337 - 
=== URL分配情况 ===
2024-12-05 10:58:09,553 [INFO] advanced_analyzer.py:339 - 线程 1 分配到 1 个URL:
2024-12-05 10:58:09,554 [INFO] advanced_analyzer.py:342 -   - Room ID: 837352260137971048
2024-12-05 10:58:09,554 [INFO] advanced_analyzer.py:200 - 初始化 AdvancedAnalyzer 实例
2024-12-05 10:58:09,554 [INFO] advanced_analyzer.py:204 - === 进入 analyze_listing 方法 ===
2024-12-05 10:58:09,554 [INFO] advanced_analyzer.py:205 - 参数: browser_id=34dc763412e34341a759c1ef1ec38580, url=https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 10:58:09,554 [INFO] advanced_analyzer.py:214 - 解析得到 Room ID: 837352260137971048
2024-12-05 10:58:09,554 [INFO] advanced_analyzer.py:217 - 开始获取日历数据
2024-12-05 10:58:09,554 [ERROR] advanced_analyzer.py:236 - 处理 Room ID 837352260137971048 时发生错误: check_calendar_availability() takes 2 positional arguments but 3 were given
2024-12-05 10:58:09,554 [ERROR] advanced_analyzer.py:237 - 错误类型: TypeError
2024-12-05 10:58:09,554 [ERROR] advanced_analyzer.py:238 - 错误堆栈:
Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\advanced_analyzer.py", line 218, in analyze_listing
    calendar_data, excel_file, driver = check_calendar_availability(
                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        url,
        ^^^^
        driver,
        ^^^^^^^
        self.browser_manager
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: check_calendar_availability() takes 2 positional arguments but 3 were given
2024-12-05 10:58:09,555 [INFO] advanced_analyzer.py:455 - === 程序执行完成 ===
