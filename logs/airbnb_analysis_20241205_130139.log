2024-12-05 13:01:39,778 [INFO] data_export.py:53 - 创建基础目录: data
2024-12-05 13:01:39,778 [INFO] data_export.py:58 - 创建date目录: data\by_date
2024-12-05 13:01:39,778 [INFO] data_export.py:58 - 创建room目录: data\by_room
2024-12-05 13:01:39,788 [INFO] advanced_analyzer.py:395 - === 开始Airbnb数据收集程序 ===
2024-12-05 13:01:39,986 [INFO] advanced_analyzer.py:100 - 成功读取 1 个房间ID
2024-12-05 13:01:39,986 [INFO] advanced_analyzer.py:406 - 生成 1 个URL
2024-12-05 13:01:39,986 [INFO] advanced_analyzer.py:410 - 创建数据目录: data/airbnb_data_20241205_130139
2024-12-05 13:01:39,986 [INFO] advanced_analyzer.py:232 - === 开始批量分析房源 ===
2024-12-05 13:01:39,987 [INFO] advanced_analyzer.py:241 - 设置并发线程数: 1
2024-12-05 13:01:40,013 [INFO] bit_browser_manager.py:38 - 活动浏览器响应: {
  "success": true,
  "data": {
    "34dc763412e34341a759c1ef1ec38580": 22328
  }
}
2024-12-05 13:01:41,811 [INFO] bit_browser_manager.py:63 - 找到 1 个活动浏览器
2024-12-05 13:01:41,811 [INFO] advanced_analyzer.py:257 - 
=== 可用的浏览器实例 ===
2024-12-05 13:01:41,811 [INFO] advanced_analyzer.py:259 - ID: 34dc763412e34341a759c1ef1ec38580
2024-12-05 13:01:41,811 [INFO] advanced_analyzer.py:260 - 名称: AirBnB01
2024-12-05 13:01:41,811 [INFO] advanced_analyzer.py:261 - 备注: 
2024-12-05 13:01:41,812 [INFO] advanced_analyzer.py:262 - PID: 22328

2024-12-05 13:01:41,812 [INFO] advanced_analyzer.py:277 - 
=== URL分配情况 ===
2024-12-05 13:01:41,812 [INFO] advanced_analyzer.py:279 - 线程 1 分配到 1 个URL:
2024-12-05 13:01:41,812 [INFO] advanced_analyzer.py:282 -   - Room ID: 837352260137971048
2024-12-05 13:01:41,812 [INFO] advanced_analyzer.py:293 - 线程 23728 (#1) 使用浏览器 34dc763412e34341a759c1ef1ec38580
2024-12-05 13:01:42,378 [INFO] advanced_analyzer.py:306 - 线程 #1 开始处理 Room ID: 837352260137971048
2024-12-05 13:01:42,924 [INFO] bit_browser_manager.py:187 - 正在导航到: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:01:43,192 [INFO] bit_browser_manager.py:195 - 成功加载页面: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:01:43,192 [INFO] advanced_analyzer.py:197 - 
开始分析房源: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:01:43,193 [INFO] airbnb_calendar_checker.py:71 - 开始检查房源日历: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:01:43,304 [INFO] airbnb_calendar_checker.py:76 - 页面加载中...
2024-12-05 13:01:43,324 [INFO] airbnb_calendar_checker.py:83 - 页面基本加载完成
2024-12-05 13:02:43,493 [INFO] airbnb_calendar_checker.py:121 - 找到日历按钮: //button[contains(@aria-label, 'Choose')]
2024-12-05 13:02:43,496 [INFO] airbnb_calendar_checker.py:135 - 已滚动到日历按钮位置
2024-12-05 13:02:44,496 [INFO] airbnb_calendar_checker.py:140 - 日历按钮已准备就绪
2024-12-05 13:02:44,570 [INFO] airbnb_calendar_checker.py:149 - 直接点击日历按钮成功
2024-12-05 13:03:04,599 [INFO] airbnb_calendar_checker.py:185 - 日历内容已加载: //div[contains(@data-testid, 'calendar')]
2024-12-05 13:03:04,610 [INFO] airbnb_calendar_checker.py:200 - 找到 120 个日期单元格
2024-12-05 13:03:04,713 [INFO] airbnb_calendar_checker.py:212 - 找到 120 个日期单元格
2024-12-05 13:03:04,715 [INFO] airbnb_calendar_checker.py:257 - 原始单元格数量: 120
2024-12-05 13:03:04,715 [INFO] airbnb_calendar_checker.py:258 - 去重后数据条数: 120
2024-12-05 13:03:04,715 [INFO] airbnb_calendar_checker.py:259 - 处理的唯一日期数: 120
2024-12-05 13:03:04,715 [INFO] airbnb_calendar_checker.py:263 - 收集到 120 条有效日历数据
2024-12-05 13:03:04,742 [INFO] data_export.py:140 - calendar数据已导出到日期目录: data\by_date\calendar_837352260137971048_20241205_130304.xlsx
2024-12-05 13:03:04,765 [INFO] data_export.py:145 - calendar数据已导出到房间目录: data\by_room\837352260137971048\calendar_20241205_130304.xlsx
2024-12-05 13:03:04,765 [INFO] advanced_analyzer.py:206 - 成功获取日历数据: 120 条记录
2024-12-05 13:03:04,765 [INFO] price_checker.py:484 - 开始检查房源价格: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:03:04,765 [INFO] price_checker.py:477 - 找到 39 个可预订日期
2024-12-05 13:03:04,765 [INFO] price_checker.py:500 - [1/39] 处理日期: 10/12/2024
2024-12-05 13:03:04,765 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:03:04,766 [INFO] price_checker.py:256 - 入住日期: 10/12/2024
2024-12-05 13:03:11,879 [INFO] price_checker.py:272 - 开始检查日期 10/12/2024 的最小入住要求...
2024-12-05 13:03:11,927 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="10, Tuesday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="0" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-10/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">10</div></td>
2024-12-05 13:03:11,937 [INFO] price_checker.py:159 - 找到日期: 10/12/2024
2024-12-05 13:03:11,937 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:03:13,061 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:03:14,354 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="10, Tuesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="0" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translateY(-100%) translateY(-12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="left: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-10/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">10</div></div></td>
2024-12-05 13:03:14,361 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:03:14,361 [INFO] price_checker.py:219 - - aria-label: 10, Tuesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:03:14,362 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:03:14,362 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:03:14,362 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:03:14,362 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:03:14,362 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-10&check_out=2024-12-13&adults=3&children=0&infants=0
2024-12-05 13:03:19,503 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:03:19,506 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:03:21,516 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:03:21,516 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:03:31,527 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:03:31,527 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:03:41,589 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:03:41,589 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:03:41,595 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:03:41,610 [INFO] price_checker.py:338 - 找到可见价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:03:41,616 [INFO] price_checker.py:351 - 找到每晚价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:03:41,617 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:03:41,617 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:03:41,622 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:03:42,125 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:03:42,132 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:03:42,138 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:03:42,138 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:03:42,138 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:03:42,145 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:03:42,150 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:03:42,150 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:03:42,150 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:03:42,156 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:03:42,160 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:03:42,160 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:03:42,160 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:03:42,167 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:03:42,171 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:03:42,171 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:03:42,172 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:03:42,177 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:03:42,182 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:03:42,182 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:03:42,183 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:03:52,191 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:03:52,198 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:03:52,203 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:03:52,204 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:03:52,204 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:03:52,210 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:03:52,214 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:03:52,214 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:03:52,220 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:03:52,220 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:03:52,224 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:03:52,224 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:03:52,224 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:03:52,224 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:03:52,225 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:03:52,225 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:03:52,225 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:03:52,225 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - check_in: 10/12/2024
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - check_out: 13/12/2024
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:03:52,225 [INFO] price_checker.py:458 - total: 
2024-12-05 13:03:52,225 [INFO] price_checker.py:506 - ✓ 成功获取 10/12/2024 的价格信息
2024-12-05 13:03:52,226 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:03:52,226 [INFO] price_checker.py:500 - [2/39] 处理日期: 11/12/2024
2024-12-05 13:03:52,226 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:03:52,226 [INFO] price_checker.py:256 - 入住日期: 11/12/2024
2024-12-05 13:03:57,381 [INFO] price_checker.py:272 - 开始检查日期 11/12/2024 的最小入住要求...
2024-12-05 13:03:57,389 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="11, Wednesday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-11/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">11</div></td>
2024-12-05 13:03:57,400 [INFO] price_checker.py:159 - 找到日期: 11/12/2024
2024-12-05 13:03:57,400 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:03:58,531 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:03:59,815 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="11, Wednesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-11/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">11</div></div></td>
2024-12-05 13:03:59,823 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:03:59,823 [INFO] price_checker.py:219 - - aria-label: 11, Wednesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:03:59,823 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:03:59,823 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:03:59,823 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:03:59,823 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:03:59,824 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-11&check_out=2024-12-14&adults=3&children=0&infants=0
2024-12-05 13:04:04,941 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:04:04,945 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:04:06,954 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:04:06,955 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:04:17,016 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:04:17,016 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:04:27,077 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:04:27,077 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:04:27,082 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:04:27,098 [INFO] price_checker.py:338 - 找到可见价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:04:27,104 [INFO] price_checker.py:351 - 找到每晚价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:04:27,104 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:04:27,104 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:04:27,110 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:04:27,612 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:04:27,620 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:04:27,626 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:04:27,626 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:04:27,626 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:04:27,632 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:04:27,637 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:04:27,637 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:04:27,637 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:04:27,643 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:04:27,648 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:04:27,648 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:04:27,648 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:04:27,654 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:04:27,659 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:04:27,659 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:04:27,659 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:04:27,665 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:04:27,669 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:04:27,670 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:04:27,670 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:04:37,678 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:04:37,685 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:04:37,689 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:04:37,690 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:04:37,690 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:04:37,697 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:04:37,701 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:04:37,702 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:04:37,706 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:04:37,706 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:04:37,711 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:04:37,711 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:04:37,711 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:04:37,711 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:04:37,711 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:04:37,711 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:04:37,712 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:04:37,712 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - check_in: 11/12/2024
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - check_out: 14/12/2024
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:04:37,712 [INFO] price_checker.py:458 - total: 
2024-12-05 13:04:37,712 [INFO] price_checker.py:506 - ✓ 成功获取 11/12/2024 的价格信息
2024-12-05 13:04:37,712 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:04:37,712 [INFO] price_checker.py:500 - [3/39] 处理日期: 12/12/2024
2024-12-05 13:04:37,713 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:04:37,713 [INFO] price_checker.py:256 - 入住日期: 12/12/2024
2024-12-05 13:04:42,869 [INFO] price_checker.py:272 - 开始检查日期 12/12/2024 的最小入住要求...
2024-12-05 13:04:42,872 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="12, Thursday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-12/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">12</div></td>
2024-12-05 13:04:42,882 [INFO] price_checker.py:159 - 找到日期: 12/12/2024
2024-12-05 13:04:42,882 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:04:44,010 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:04:45,306 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="12, Thursday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-12/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">12</div></div></td>
2024-12-05 13:04:45,314 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:04:45,314 [INFO] price_checker.py:219 - - aria-label: 12, Thursday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:04:45,314 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:04:45,314 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:04:45,314 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:04:45,314 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:04:45,314 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-12&check_out=2024-12-15&adults=3&children=0&infants=0
2024-12-05 13:04:50,430 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:04:50,434 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:04:52,444 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:04:52,444 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:05:02,503 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:05:02,503 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:05:12,561 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:05:12,561 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:05:12,566 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:05:12,582 [INFO] price_checker.py:338 - 找到可见价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:05:12,588 [INFO] price_checker.py:351 - 找到每晚价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:05:12,588 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:05:12,588 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:05:12,594 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:05:13,097 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:05:13,104 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:05:13,111 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:05:13,111 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:05:13,111 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:05:13,117 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:05:13,123 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:05:13,124 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:05:13,124 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:05:13,130 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:05:13,135 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:05:13,135 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:05:13,135 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:05:13,141 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:05:13,147 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:05:13,147 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:05:13,147 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:05:13,153 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:05:13,158 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:05:13,158 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:05:13,158 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:05:23,209 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:05:23,216 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:05:23,221 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:05:23,221 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:05:23,221 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:05:23,227 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:05:23,232 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:05:23,233 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:05:23,238 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:05:23,238 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:05:23,243 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:05:23,243 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:05:23,243 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:05:23,243 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:05:23,243 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:05:23,243 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:05:23,243 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:05:23,243 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:05:23,243 [INFO] price_checker.py:458 - check_in: 12/12/2024
2024-12-05 13:05:23,243 [INFO] price_checker.py:458 - check_out: 15/12/2024
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:05:23,244 [INFO] price_checker.py:458 - total: 
2024-12-05 13:05:23,244 [INFO] price_checker.py:506 - ✓ 成功获取 12/12/2024 的价格信息
2024-12-05 13:05:23,244 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:05:23,244 [INFO] price_checker.py:520 - 已完成 5/39 个日期的处理
2024-12-05 13:05:33,244 [INFO] price_checker.py:500 - [4/39] 处理日期: 13/12/2024
2024-12-05 13:05:33,245 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:05:33,245 [INFO] price_checker.py:256 - 入住日期: 13/12/2024
2024-12-05 13:05:38,412 [INFO] price_checker.py:272 - 开始检查日期 13/12/2024 的最小入住要求...
2024-12-05 13:05:38,415 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="13, Friday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-13/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">13</div></td>
2024-12-05 13:05:38,425 [INFO] price_checker.py:159 - 找到日期: 13/12/2024
2024-12-05 13:05:38,425 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:05:39,561 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:05:40,843 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="13, Friday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-13/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">13</div></div></td>
2024-12-05 13:05:40,851 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:05:40,851 [INFO] price_checker.py:219 - - aria-label: 13, Friday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:05:40,851 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:05:40,851 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:05:40,851 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:05:40,851 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:05:40,851 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-13&check_out=2024-12-16&adults=3&children=0&infants=0
2024-12-05 13:05:45,967 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:05:45,970 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:05:47,982 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:05:47,982 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:05:57,988 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:05:57,988 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:06:07,990 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:06:07,990 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:06:07,996 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:06:08,012 [INFO] price_checker.py:338 - 找到可见价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:06:08,018 [INFO] price_checker.py:351 - 找到每晚价格元素: $332 NZD 
$288 NZD 
night
$288 NZD per night, originally $332 NZD
2024-12-05 13:06:08,018 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:06:08,018 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:06:08,025 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:06:08,528 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:08,535 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:08,542 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:06:08,542 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:06:08,542 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:08,549 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:08,553 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:06:08,554 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:06:08,554 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:08,561 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:08,565 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:06:08,565 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:06:08,565 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:08,572 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:08,578 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:06:08,578 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:06:08,578 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:08,584 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:08,589 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:06:08,589 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:06:08,589 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:18,595 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:06:18,602 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:18,606 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:06:18,607 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:06:18,607 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:06:18,614 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:06:18,619 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:06:18,619 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:06:18,623 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:06:18,624 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:06:18,629 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:06:18,629 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:06:18,629 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:06:18,629 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:06:18,629 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:06:18,629 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:06:18,630 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:06:18,630 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - check_in: 13/12/2024
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - check_out: 16/12/2024
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:06:18,630 [INFO] price_checker.py:458 - total: 
2024-12-05 13:06:18,630 [INFO] price_checker.py:506 - ✓ 成功获取 13/12/2024 的价格信息
2024-12-05 13:06:18,630 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:06:18,630 [INFO] price_checker.py:500 - [5/39] 处理日期: 14/12/2024
2024-12-05 13:06:18,630 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:06:18,631 [INFO] price_checker.py:256 - 入住日期: 14/12/2024
2024-12-05 13:06:23,811 [INFO] price_checker.py:272 - 开始检查日期 14/12/2024 的最小入住要求...
2024-12-05 13:06:23,816 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="14, Saturday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-14/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">14</div></td>
2024-12-05 13:06:23,825 [INFO] price_checker.py:159 - 找到日期: 14/12/2024
2024-12-05 13:06:23,825 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:06:24,942 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:06:26,233 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="14, Saturday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-14/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">14</div></div></td>
2024-12-05 13:06:26,240 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:06:26,240 [INFO] price_checker.py:219 - - aria-label: 14, Saturday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:06:26,241 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:06:26,241 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:06:26,241 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:06:26,241 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:06:26,241 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-14&check_out=2024-12-17&adults=3&children=0&infants=0
2024-12-05 13:06:31,358 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:06:31,361 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:06:33,372 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:06:33,373 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:06:43,385 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:06:43,385 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:06:53,396 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:06:53,396 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:06:53,402 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:06:53,417 [INFO] price_checker.py:338 - 找到可见价格元素: $336 NZD 
$288 NZD 
night
$288 NZD per night, originally $336 NZD
2024-12-05 13:06:53,423 [INFO] price_checker.py:351 - 找到每晚价格元素: $336 NZD 
$288 NZD 
night
$288 NZD per night, originally $336 NZD
2024-12-05 13:06:53,423 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:06:53,423 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:06:53,429 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:06:53,933 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:53,939 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:53,945 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:06:53,945 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:06:53,946 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:53,952 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:53,957 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:06:53,957 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:06:53,957 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:53,963 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:53,968 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:06:53,968 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:06:53,968 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:53,974 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:53,979 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:06:53,979 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:06:53,979 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:06:53,986 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:06:53,990 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:06:53,990 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:06:53,990 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:04,046 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:07:04,053 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:04,058 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:07:04,058 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:07:04,058 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:07:04,065 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:07:04,070 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:07:04,070 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:07:04,075 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:07:04,075 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:07:04,079 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:07:04,079 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:07:04,079 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:07:04,079 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:07:04,080 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:07:04,080 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:07:04,080 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:07:04,080 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - check_in: 14/12/2024
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - check_out: 17/12/2024
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:07:04,080 [INFO] price_checker.py:458 - total: 
2024-12-05 13:07:04,080 [INFO] price_checker.py:506 - ✓ 成功获取 14/12/2024 的价格信息
2024-12-05 13:07:04,081 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:07:04,081 [INFO] price_checker.py:500 - [6/39] 处理日期: 15/12/2024
2024-12-05 13:07:04,081 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:07:04,081 [INFO] price_checker.py:256 - 入住日期: 15/12/2024
2024-12-05 13:07:09,260 [INFO] price_checker.py:272 - 开始检查日期 15/12/2024 的最小入住要求...
2024-12-05 13:07:09,263 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_1mv3p4vt" role="button" aria-disabled="false" aria-label="15, Sunday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-15/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">15</div></td>
2024-12-05 13:07:09,273 [INFO] price_checker.py:159 - 找到日期: 15/12/2024
2024-12-05 13:07:09,273 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:07:10,401 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:07:11,699 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_ubf03zg" role="button" aria-disabled="true" aria-label="15, Sunday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_17slido1 notranslate" data-testid="calendar-day-15/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">15</div></div></td>
2024-12-05 13:07:11,707 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:07:11,707 [INFO] price_checker.py:219 - - aria-label: 15, Sunday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:07:11,707 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:07:11,707 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:07:11,708 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:07:11,708 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:07:11,708 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-15&check_out=2024-12-18&adults=3&children=0&infants=0
2024-12-05 13:07:16,831 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:07:16,834 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:07:18,845 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:07:18,845 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:07:28,870 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:07:28,870 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:07:38,889 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:07:38,889 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:07:38,895 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:07:38,920 [INFO] price_checker.py:338 - 找到可见价格元素: $340 NZD 
$288 NZD 
night
$288 NZD per night, originally $340 NZD
2024-12-05 13:07:38,927 [INFO] price_checker.py:351 - 找到每晚价格元素: $340 NZD 
$288 NZD 
night
$288 NZD per night, originally $340 NZD
2024-12-05 13:07:38,928 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:07:38,928 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:07:38,941 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:07:39,444 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:39,452 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:39,459 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:07:39,459 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:07:39,459 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:39,466 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:39,471 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:07:39,471 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:07:39,471 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:39,478 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:39,483 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:07:39,483 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:07:39,484 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:39,490 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:39,495 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:07:39,495 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:07:39,496 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:39,503 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:39,508 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:07:39,508 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:07:39,509 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:07:49,543 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:07:49,550 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:07:49,554 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:07:49,554 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:07:49,555 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:07:49,561 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:07:49,566 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:07:49,566 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:07:49,571 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:07:49,571 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:07:49,576 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:07:49,576 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:07:49,576 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:07:49,576 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:07:49,576 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:07:49,577 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:07:49,577 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:07:49,577 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - check_in: 15/12/2024
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - check_out: 18/12/2024
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:07:49,577 [INFO] price_checker.py:458 - total: 
2024-12-05 13:07:49,577 [INFO] price_checker.py:506 - ✓ 成功获取 15/12/2024 的价格信息
2024-12-05 13:07:49,578 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:07:49,578 [INFO] price_checker.py:500 - [7/39] 处理日期: 16/12/2024
2024-12-05 13:07:49,578 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:07:49,578 [INFO] price_checker.py:256 - 入住日期: 16/12/2024
2024-12-05 13:07:54,737 [INFO] price_checker.py:272 - 开始检查日期 16/12/2024 的最小入住要求...
2024-12-05 13:07:54,740 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_sl5yz7r" role="button" aria-disabled="false" aria-label="16, Monday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-16/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">16</div></td>
2024-12-05 13:07:54,750 [INFO] price_checker.py:159 - 找到日期: 16/12/2024
2024-12-05 13:07:54,750 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:07:55,865 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:07:57,145 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_5v1jabe" role="button" aria-disabled="true" aria-label="16, Monday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translateY(-100%) translateY(-12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="left: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_17slido1 notranslate" data-testid="calendar-day-16/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">16</div></div></td>
2024-12-05 13:07:57,153 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:07:57,153 [INFO] price_checker.py:219 - - aria-label: 16, Monday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:07:57,154 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:07:57,154 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:07:57,154 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:07:57,154 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:07:57,154 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-16&check_out=2024-12-19&adults=3&children=0&infants=0
2024-12-05 13:08:02,274 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:08:02,276 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:08:04,287 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:08:04,288 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:08:14,343 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:08:14,343 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:08:24,392 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:08:24,392 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:08:24,398 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:08:24,414 [INFO] price_checker.py:338 - 找到可见价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:08:24,420 [INFO] price_checker.py:351 - 找到每晚价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:08:24,420 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:08:24,420 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:08:24,426 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:08:24,929 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:08:24,936 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:08:24,943 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:08:24,943 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:08:24,943 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:08:24,950 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:08:24,954 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:08:24,955 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:08:24,955 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:08:24,961 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:08:24,966 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:08:24,966 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:08:24,966 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:08:24,972 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:08:24,978 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:08:24,978 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:08:24,978 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:08:24,985 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:08:24,995 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:08:24,995 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:08:24,995 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:08:35,040 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:08:35,046 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:08:35,053 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:08:35,053 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:08:35,053 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:08:35,059 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:08:35,064 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:08:35,064 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:08:35,070 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:08:35,070 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:08:35,074 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:08:35,074 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:08:35,074 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:08:35,074 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:08:35,074 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:08:35,074 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:08:35,074 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:08:35,074 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - check_in: 16/12/2024
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - check_out: 19/12/2024
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:08:35,075 [INFO] price_checker.py:458 - total: 
2024-12-05 13:08:35,075 [INFO] price_checker.py:506 - ✓ 成功获取 16/12/2024 的价格信息
2024-12-05 13:08:35,075 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:08:35,075 [INFO] price_checker.py:500 - [8/39] 处理日期: 17/12/2024
2024-12-05 13:08:35,076 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:08:35,076 [INFO] price_checker.py:256 - 入住日期: 17/12/2024
2024-12-05 13:08:40,241 [INFO] price_checker.py:272 - 开始检查日期 17/12/2024 的最小入住要求...
2024-12-05 13:08:40,243 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="17, Tuesday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-17/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">17</div></td>
2024-12-05 13:08:40,253 [INFO] price_checker.py:159 - 找到日期: 17/12/2024
2024-12-05 13:08:40,254 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:08:41,378 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:08:42,679 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="17, Tuesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translateY(-100%) translateY(-12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="left: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-17/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">17</div></div></td>
2024-12-05 13:08:42,687 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:08:42,687 [INFO] price_checker.py:219 - - aria-label: 17, Tuesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:08:42,687 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:08:42,687 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:08:42,687 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:08:42,687 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:08:42,687 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-17&check_out=2024-12-20&adults=3&children=0&infants=0
2024-12-05 13:08:47,810 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:08:47,813 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:08:49,825 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:08:49,825 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:08:59,874 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:08:59,874 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:09:09,917 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:09:09,917 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:09:09,923 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:09:09,938 [INFO] price_checker.py:338 - 找到可见价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:09:09,944 [INFO] price_checker.py:351 - 找到每晚价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:09:09,944 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:09:09,944 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:09:09,950 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:09:10,453 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:09:10,460 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:09:10,466 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:09:10,466 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:09:10,466 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:09:10,472 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:09:10,477 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:09:10,477 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:09:10,477 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:09:10,484 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:09:10,489 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:09:10,489 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:09:10,489 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:09:10,495 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:09:10,500 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:09:10,501 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:09:10,501 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:09:10,507 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:09:10,511 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:09:10,511 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:09:10,511 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:09:20,555 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:09:20,562 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:09:20,572 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:09:20,572 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:09:20,572 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:09:20,580 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:09:20,586 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:09:20,586 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:09:20,597 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:09:20,597 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:09:20,602 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:09:20,603 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:09:20,603 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:09:20,603 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:09:20,603 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:09:20,603 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:09:20,603 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:09:20,603 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:09:20,603 [INFO] price_checker.py:458 - check_in: 17/12/2024
2024-12-05 13:09:20,603 [INFO] price_checker.py:458 - check_out: 20/12/2024
2024-12-05 13:09:20,603 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:09:20,603 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:09:20,603 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:09:20,604 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:09:20,604 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:09:20,604 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:09:20,604 [INFO] price_checker.py:458 - total: 
2024-12-05 13:09:20,604 [INFO] price_checker.py:506 - ✓ 成功获取 17/12/2024 的价格信息
2024-12-05 13:09:20,604 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:09:20,604 [INFO] price_checker.py:520 - 已完成 10/39 个日期的处理
2024-12-05 13:09:30,604 [INFO] price_checker.py:500 - [9/39] 处理日期: 18/12/2024
2024-12-05 13:09:30,605 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:09:30,605 [INFO] price_checker.py:256 - 入住日期: 18/12/2024
2024-12-05 13:09:35,774 [INFO] price_checker.py:272 - 开始检查日期 18/12/2024 的最小入住要求...
2024-12-05 13:09:35,777 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="18, Wednesday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-18/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">18</div></td>
2024-12-05 13:09:35,787 [INFO] price_checker.py:159 - 找到日期: 18/12/2024
2024-12-05 13:09:35,788 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:09:36,904 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:09:38,192 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="18, Wednesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-18/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">18</div></div></td>
2024-12-05 13:09:38,201 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:09:38,201 [INFO] price_checker.py:219 - - aria-label: 18, Wednesday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:09:38,201 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:09:38,201 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:09:38,201 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:09:38,201 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:09:38,202 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-18&check_out=2024-12-21&adults=3&children=0&infants=0
2024-12-05 13:09:43,327 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:09:43,330 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:09:45,342 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:09:45,342 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:09:55,358 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:09:55,358 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:10:05,388 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:10:05,388 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:10:05,395 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:10:05,408 [INFO] price_checker.py:338 - 找到可见价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:10:05,415 [INFO] price_checker.py:351 - 找到每晚价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:10:05,415 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:10:05,415 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:10:05,420 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:10:05,923 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:05,931 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:05,936 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:10:05,937 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:10:05,937 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:05,943 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:05,949 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:10:05,949 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:10:05,949 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:05,956 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:05,961 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:10:05,961 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:10:05,961 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:05,969 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:05,980 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:10:05,981 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:10:05,981 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:05,989 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:05,996 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:10:05,996 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:10:05,996 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:16,040 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:10:16,047 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:16,053 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:10:16,053 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:10:16,053 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:10:16,059 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:10:16,064 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:10:16,064 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:10:16,069 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:10:16,069 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:10:16,073 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:10:16,074 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:10:16,074 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:10:16,074 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:10:16,074 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:10:16,074 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:10:16,074 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:10:16,074 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:10:16,074 [INFO] price_checker.py:458 - check_in: 18/12/2024
2024-12-05 13:10:16,074 [INFO] price_checker.py:458 - check_out: 21/12/2024
2024-12-05 13:10:16,074 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:10:16,074 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:10:16,074 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:10:16,075 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:10:16,075 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:10:16,075 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:10:16,075 [INFO] price_checker.py:458 - total: 
2024-12-05 13:10:16,075 [INFO] price_checker.py:506 - ✓ 成功获取 18/12/2024 的价格信息
2024-12-05 13:10:16,075 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:10:16,075 [INFO] price_checker.py:500 - [10/39] 处理日期: 19/12/2024
2024-12-05 13:10:16,075 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:10:16,075 [INFO] price_checker.py:256 - 入住日期: 19/12/2024
2024-12-05 13:10:21,242 [INFO] price_checker.py:272 - 开始检查日期 19/12/2024 的最小入住要求...
2024-12-05 13:10:21,244 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="19, Thursday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-19/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">19</div></td>
2024-12-05 13:10:21,255 [INFO] price_checker.py:159 - 找到日期: 19/12/2024
2024-12-05 13:10:21,255 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:10:22,382 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:10:23,676 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="19, Thursday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-19/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">19</div></div></td>
2024-12-05 13:10:23,684 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:10:23,684 [INFO] price_checker.py:219 - - aria-label: 19, Thursday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:10:23,684 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:10:23,684 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:10:23,684 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:10:23,684 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:10:23,684 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-19&check_out=2024-12-22&adults=3&children=0&infants=0
2024-12-05 13:10:28,803 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:10:28,807 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:10:30,817 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:10:30,818 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:10:40,869 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:10:40,869 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:10:50,925 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:10:50,925 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:10:50,931 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:10:50,946 [INFO] price_checker.py:338 - 找到可见价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:10:50,952 [INFO] price_checker.py:351 - 找到每晚价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:10:50,953 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:10:50,953 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:10:50,958 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:10:51,461 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:51,469 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:51,475 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:10:51,475 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:10:51,475 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:51,481 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:51,486 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:10:51,486 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:10:51,486 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:51,492 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:51,497 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:10:51,497 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:10:51,497 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:51,503 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:51,508 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:10:51,508 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:10:51,508 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:10:51,514 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:10:51,519 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:10:51,519 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:10:51,519 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:01,577 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:11:01,584 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:01,589 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:11:01,589 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:11:01,589 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:11:01,596 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:11:01,601 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:11:01,601 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:11:01,606 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:11:01,606 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:11:01,611 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:11:01,611 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:11:01,611 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:11:01,612 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:11:01,612 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:11:01,612 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:11:01,612 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:11:01,612 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - check_in: 19/12/2024
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - check_out: 22/12/2024
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:11:01,612 [INFO] price_checker.py:458 - total: 
2024-12-05 13:11:01,612 [INFO] price_checker.py:506 - ✓ 成功获取 19/12/2024 的价格信息
2024-12-05 13:11:01,613 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:11:01,613 [INFO] price_checker.py:500 - [11/39] 处理日期: 20/12/2024
2024-12-05 13:11:01,613 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:11:01,613 [INFO] price_checker.py:256 - 入住日期: 20/12/2024
2024-12-05 13:11:06,773 [INFO] price_checker.py:272 - 开始检查日期 20/12/2024 的最小入住要求...
2024-12-05 13:11:06,776 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="20, Friday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-20/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">20</div></td>
2024-12-05 13:11:06,785 [INFO] price_checker.py:159 - 找到日期: 20/12/2024
2024-12-05 13:11:06,785 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:11:07,899 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:11:09,190 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="20, Friday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-20/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">20</div></div></td>
2024-12-05 13:11:09,198 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:11:09,198 [INFO] price_checker.py:219 - - aria-label: 20, Friday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:11:09,198 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:11:09,199 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:11:09,199 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:11:09,199 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:11:09,199 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-20&check_out=2024-12-23&adults=3&children=0&infants=0
2024-12-05 13:11:14,323 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:11:14,325 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:11:16,336 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:11:16,336 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:11:26,361 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:11:26,362 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:11:36,420 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:11:36,420 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:11:36,426 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:11:36,442 [INFO] price_checker.py:338 - 找到可见价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:11:36,449 [INFO] price_checker.py:351 - 找到每晚价格元素: $343 NZD 
$288 NZD 
night
$288 NZD per night, originally $343 NZD
2024-12-05 13:11:36,449 [INFO] price_checker.py:357 - 成功解析折扣价格: $288 NZD
2024-12-05 13:11:36,449 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:11:36,454 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:11:36,958 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:36,965 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:36,970 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:11:36,970 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:11:36,970 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:36,977 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:36,981 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:11:36,981 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:11:36,982 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:36,987 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:36,993 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:11:36,993 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:11:36,993 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:36,999 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:37,004 [INFO] price_checker.py:404 - 找到价格元素: $129 NZD (HTML: <span class="_1k4xcdh">$129&nbsp;NZD</span>)
2024-12-05 13:11:37,005 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $129 NZD
2024-12-05 13:11:37,005 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:37,011 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:37,016 [INFO] price_checker.py:404 - 找到价格元素: $119 NZD (HTML: <span class="_1k4xcdh">$119&nbsp;NZD</span>)
2024-12-05 13:11:37,016 [INFO] price_checker.py:417 - ✓ 成功设置税费: $119 NZD
2024-12-05 13:11:37,016 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:11:47,040 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:11:47,048 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:11:47,053 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:11:47,053 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:11:47,054 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:11:47,060 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:11:47,067 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,042&nbsp;NZD</span></span>)
2024-12-05 13:11:47,067 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:11:47,072 [INFO] price_checker.py:404 - 找到价格元素: $1,042 NZD (HTML: <span class="_j1kt73">$1,042&nbsp;NZD</span>)
2024-12-05 13:11:47,072 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,042 NZD
2024-12-05 13:11:47,077 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:11:47,077 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:11:47,077 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:11:47,077 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:11:47,078 [INFO] price_checker.py:451 - ✓ service_fee: $129 NZD
2024-12-05 13:11:47,078 [INFO] price_checker.py:451 - ✓ taxes: $119 NZD
2024-12-05 13:11:47,078 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:11:47,078 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - check_in: 20/12/2024
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - check_out: 23/12/2024
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - nightly_price: $288 NZD
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - service_fee: $129 NZD
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - taxes: $119 NZD
2024-12-05 13:11:47,078 [INFO] price_checker.py:458 - total: 
2024-12-05 13:11:47,078 [INFO] price_checker.py:506 - ✓ 成功获取 20/12/2024 的价格信息
2024-12-05 13:11:47,078 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:11:47,079 [INFO] price_checker.py:500 - [12/39] 处理日期: 21/12/2024
2024-12-05 13:11:47,079 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:11:47,079 [INFO] price_checker.py:256 - 入住日期: 21/12/2024
2024-12-05 13:11:52,245 [INFO] price_checker.py:272 - 开始检查日期 21/12/2024 的最小入住要求...
2024-12-05 13:11:52,248 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="21, Saturday, December 2024. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-21/12/2024" data-is-day-blocked="false" style="width: 41px; height: 41px;">21</div></td>
2024-12-05 13:11:52,258 [INFO] price_checker.py:159 - 找到日期: 21/12/2024
2024-12-05 13:11:52,258 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:11:53,376 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:11:54,660 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="21, Saturday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-21/12/2024" data-is-day-blocked="true" style="width: 41px; height: 41px;">21</div></div></td>
2024-12-05 13:11:54,668 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:11:54,668 [INFO] price_checker.py:219 - - aria-label: 21, Saturday, December 2024. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:11:54,668 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:11:54,668 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:11:54,668 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:11:54,668 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:11:54,668 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2024-12-21&check_out=2024-12-24&adults=3&children=0&infants=0
2024-12-05 13:11:59,787 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:11:59,789 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:12:01,800 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:12:01,800 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:12:11,848 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:12:11,848 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:12:21,910 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:12:21,910 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:12:21,917 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:12:21,934 [INFO] price_checker.py:338 - 找到可见价格元素: $286 NZD 
night
$286 NZD per night
2024-12-05 13:12:21,940 [INFO] price_checker.py:351 - 找到每晚价格元素: $286 NZD 
night
$286 NZD per night
2024-12-05 13:12:21,940 [INFO] price_checker.py:357 - 成功解析折扣价格: $286 NZD
2024-12-05 13:12:21,940 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:12:21,946 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:12:22,452 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:12:22,459 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:12:22,465 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:12:22,465 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:12:22,466 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:12:22,472 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:12:22,476 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:12:22,476 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:12:22,477 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:12:22,483 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:12:22,490 [INFO] price_checker.py:404 - 找到价格元素: $128 NZD (HTML: <span class="_1k4xcdh">$128&nbsp;NZD</span>)
2024-12-05 13:12:22,491 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $128 NZD
2024-12-05 13:12:22,491 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:12:22,497 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:12:22,503 [INFO] price_checker.py:404 - 找到价格元素: $128 NZD (HTML: <span class="_1k4xcdh">$128&nbsp;NZD</span>)
2024-12-05 13:12:22,503 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $128 NZD
2024-12-05 13:12:22,503 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:12:22,510 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:12:22,514 [INFO] price_checker.py:404 - 找到价格元素: $118 NZD (HTML: <span class="_1k4xcdh">$118&nbsp;NZD</span>)
2024-12-05 13:12:22,514 [INFO] price_checker.py:417 - ✓ 成功设置税费: $118 NZD
2024-12-05 13:12:22,514 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:12:32,572 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:12:32,579 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:12:32,584 [INFO] price_checker.py:404 - 找到价格元素: $1,034 NZD (HTML: <span class="_j1kt73">$1,034&nbsp;NZD</span>)
2024-12-05 13:12:32,584 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,034 NZD
2024-12-05 13:12:32,584 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:12:32,591 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:12:32,596 [INFO] price_checker.py:404 - 找到价格元素: $1,034 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,034&nbsp;NZD</span></span>)
2024-12-05 13:12:32,596 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,034 NZD
2024-12-05 13:12:32,601 [INFO] price_checker.py:404 - 找到价格元素: $1,034 NZD (HTML: <span class="_j1kt73">$1,034&nbsp;NZD</span>)
2024-12-05 13:12:32,601 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,034 NZD
2024-12-05 13:12:32,606 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:12:32,606 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:12:32,607 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:12:32,607 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:12:32,607 [INFO] price_checker.py:451 - ✓ service_fee: $128 NZD
2024-12-05 13:12:32,607 [INFO] price_checker.py:451 - ✓ taxes: $118 NZD
2024-12-05 13:12:32,607 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:12:32,607 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - check_in: 21/12/2024
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - check_out: 24/12/2024
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - nightly_price: $286 NZD
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - service_fee: $128 NZD
2024-12-05 13:12:32,607 [INFO] price_checker.py:458 - taxes: $118 NZD
2024-12-05 13:12:32,608 [INFO] price_checker.py:458 - total: 
2024-12-05 13:12:32,608 [INFO] price_checker.py:506 - ✓ 成功获取 21/12/2024 的价格信息
2024-12-05 13:12:32,608 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:12:32,608 [INFO] price_checker.py:500 - [13/39] 处理日期: 08/01/2025
2024-12-05 13:12:32,608 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:12:32,608 [INFO] price_checker.py:256 - 入住日期: 08/01/2025
2024-12-05 13:12:37,769 [INFO] price_checker.py:272 - 开始检查日期 08/01/2025 的最小入住要求...
2024-12-05 13:12:37,772 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="8, Wednesday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-08/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">8</div></td>
2024-12-05 13:12:37,783 [INFO] price_checker.py:159 - 找到日期: 08/01/2025
2024-12-05 13:12:37,783 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:12:38,912 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:12:40,193 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="8, Wednesday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-08/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">8</div></div></td>
2024-12-05 13:12:40,201 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:12:40,201 [INFO] price_checker.py:219 - - aria-label: 8, Wednesday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:12:40,201 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:12:40,201 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:12:40,201 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:12:40,201 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:12:40,201 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-08&check_out=2025-01-11&adults=3&children=0&infants=0
2024-12-05 13:12:45,329 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:12:45,331 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:12:47,341 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:12:47,341 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:12:57,385 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:12:57,385 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:13:07,445 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:13:07,445 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:13:07,451 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:13:07,466 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:13:07,473 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:13:07,473 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:13:07,473 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:13:07,479 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:13:07,983 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:13:07,991 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:13:07,996 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:13:07,996 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:13:07,997 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:13:08,003 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:13:08,008 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:13:08,008 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:13:08,008 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:13:08,014 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:13:08,019 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:13:08,019 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:13:08,019 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:13:08,025 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:13:08,030 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:13:08,030 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:13:08,030 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:13:08,036 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:13:08,041 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:13:08,042 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:13:08,042 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:13:18,050 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:13:18,057 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:13:18,063 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:13:18,063 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:13:18,063 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:13:18,070 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:13:18,075 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:13:18,075 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:13:18,080 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:13:18,080 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:13:18,085 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:13:18,085 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:13:18,085 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:13:18,085 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:13:18,085 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:13:18,085 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:13:18,085 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:13:18,085 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:13:18,085 [INFO] price_checker.py:458 - check_in: 08/01/2025
2024-12-05 13:13:18,085 [INFO] price_checker.py:458 - check_out: 11/01/2025
2024-12-05 13:13:18,085 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:13:18,086 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:13:18,086 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:13:18,086 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:13:18,086 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:13:18,086 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:13:18,086 [INFO] price_checker.py:458 - total: 
2024-12-05 13:13:18,086 [INFO] price_checker.py:506 - ✓ 成功获取 08/01/2025 的价格信息
2024-12-05 13:13:18,086 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:13:18,086 [INFO] price_checker.py:520 - 已完成 15/39 个日期的处理
2024-12-05 13:13:28,086 [INFO] price_checker.py:500 - [14/39] 处理日期: 09/01/2025
2024-12-05 13:13:28,086 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:13:28,087 [INFO] price_checker.py:256 - 入住日期: 09/01/2025
2024-12-05 13:13:33,264 [INFO] price_checker.py:272 - 开始检查日期 09/01/2025 的最小入住要求...
2024-12-05 13:13:33,266 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="9, Thursday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-09/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">9</div></td>
2024-12-05 13:13:33,277 [INFO] price_checker.py:159 - 找到日期: 09/01/2025
2024-12-05 13:13:33,277 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:13:34,393 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:13:35,675 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="9, Thursday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-09/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">9</div></div></td>
2024-12-05 13:13:35,683 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:13:35,683 [INFO] price_checker.py:219 - - aria-label: 9, Thursday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:13:35,683 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:13:35,683 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:13:35,683 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:13:35,683 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:13:35,683 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-09&check_out=2025-01-12&adults=3&children=0&infants=0
2024-12-05 13:13:40,809 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:13:40,812 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:13:42,824 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:13:42,824 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:13:52,881 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:13:52,881 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:14:02,926 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:14:02,926 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:14:02,932 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:14:02,946 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:14:02,953 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:14:02,953 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:14:02,953 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:14:02,959 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:14:03,461 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:03,469 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:03,475 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:14:03,475 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:14:03,475 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:03,481 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:03,488 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:14:03,488 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:14:03,488 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:03,494 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:03,499 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:14:03,499 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:14:03,499 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:03,506 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:03,510 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:14:03,510 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:14:03,510 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:03,516 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:03,522 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:14:03,522 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:14:03,522 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:13,537 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:14:13,545 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:13,550 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:14:13,550 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:14:13,550 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:14:13,557 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:14:13,562 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:14:13,562 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:14:13,566 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:14:13,566 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:14:13,571 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:14:13,571 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:14:13,571 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:14:13,571 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:14:13,571 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:14:13,571 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:14:13,571 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:14:13,571 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:14:13,571 [INFO] price_checker.py:458 - check_in: 09/01/2025
2024-12-05 13:14:13,571 [INFO] price_checker.py:458 - check_out: 12/01/2025
2024-12-05 13:14:13,571 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:14:13,571 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:14:13,571 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:14:13,571 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:14:13,572 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:14:13,572 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:14:13,572 [INFO] price_checker.py:458 - total: 
2024-12-05 13:14:13,572 [INFO] price_checker.py:506 - ✓ 成功获取 09/01/2025 的价格信息
2024-12-05 13:14:13,572 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:14:13,572 [INFO] price_checker.py:500 - [15/39] 处理日期: 10/01/2025
2024-12-05 13:14:13,572 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:14:13,572 [INFO] price_checker.py:256 - 入住日期: 10/01/2025
2024-12-05 13:14:18,735 [INFO] price_checker.py:272 - 开始检查日期 10/01/2025 的最小入住要求...
2024-12-05 13:14:18,738 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="10, Friday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-10/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">10</div></td>
2024-12-05 13:14:18,751 [INFO] price_checker.py:159 - 找到日期: 10/01/2025
2024-12-05 13:14:18,751 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:14:19,878 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:14:21,168 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="10, Friday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-10/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">10</div></div></td>
2024-12-05 13:14:21,177 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:14:21,177 [INFO] price_checker.py:219 - - aria-label: 10, Friday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:14:21,177 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:14:21,177 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:14:21,177 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:14:21,177 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:14:21,177 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-10&check_out=2025-01-13&adults=3&children=0&infants=0
2024-12-05 13:14:26,298 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:14:26,301 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:14:28,316 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:14:28,316 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:14:38,332 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:14:38,332 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:14:48,362 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:14:48,362 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:14:48,368 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:14:48,383 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:14:48,389 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:14:48,389 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:14:48,389 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:14:48,396 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:14:48,899 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:48,906 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:48,914 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:14:48,914 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:14:48,915 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:48,921 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:48,927 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:14:48,927 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:14:48,928 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:48,934 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:48,939 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:14:48,939 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:14:48,939 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:48,947 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:48,952 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:14:48,952 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:14:48,952 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:48,959 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:48,965 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:14:48,965 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:14:48,965 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:14:58,978 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:14:58,986 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:14:58,993 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:14:58,993 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:14:58,993 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:14:59,001 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:14:59,008 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:14:59,008 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:14:59,015 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:14:59,015 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:14:59,022 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:14:59,022 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:14:59,022 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:14:59,022 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:14:59,022 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:14:59,022 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:14:59,022 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:14:59,023 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - check_in: 10/01/2025
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - check_out: 13/01/2025
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:14:59,023 [INFO] price_checker.py:458 - total: 
2024-12-05 13:14:59,023 [INFO] price_checker.py:506 - ✓ 成功获取 10/01/2025 的价格信息
2024-12-05 13:14:59,023 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:14:59,024 [INFO] price_checker.py:500 - [16/39] 处理日期: 11/01/2025
2024-12-05 13:14:59,024 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:14:59,024 [INFO] price_checker.py:256 - 入住日期: 11/01/2025
2024-12-05 13:15:04,218 [INFO] price_checker.py:272 - 开始检查日期 11/01/2025 的最小入住要求...
2024-12-05 13:15:04,221 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="11, Saturday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-11/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">11</div></td>
2024-12-05 13:15:04,229 [INFO] price_checker.py:159 - 找到日期: 11/01/2025
2024-12-05 13:15:04,230 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:15:05,358 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:15:06,633 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="11, Saturday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-11/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">11</div></div></td>
2024-12-05 13:15:06,641 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:15:06,641 [INFO] price_checker.py:219 - - aria-label: 11, Saturday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:15:06,641 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:15:06,641 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:15:06,642 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:15:06,642 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:15:06,642 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-11&check_out=2025-01-14&adults=3&children=0&infants=0
2024-12-05 13:15:11,766 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:15:11,768 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:15:13,780 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:15:13,780 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:15:23,783 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:15:23,783 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:15:33,832 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:15:33,832 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:15:33,837 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:15:33,852 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:15:33,857 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:15:33,858 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:15:33,858 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:15:33,863 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:15:34,367 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:15:34,374 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:15:34,380 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:15:34,380 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:15:34,380 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:15:34,387 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:15:34,392 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:15:34,392 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:15:34,392 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:15:34,399 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:15:34,404 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:15:34,404 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:15:34,404 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:15:34,410 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:15:34,415 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:15:34,415 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:15:34,415 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:15:34,422 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:15:34,426 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:15:34,426 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:15:34,426 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:15:44,428 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:15:44,434 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:15:44,440 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:15:44,440 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:15:44,440 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:15:44,447 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:15:44,451 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:15:44,451 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:15:44,457 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:15:44,457 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:15:44,462 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:15:44,462 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:15:44,462 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:15:44,462 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:15:44,462 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:15:44,462 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:15:44,462 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:15:44,462 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:15:44,462 [INFO] price_checker.py:458 - check_in: 11/01/2025
2024-12-05 13:15:44,462 [INFO] price_checker.py:458 - check_out: 14/01/2025
2024-12-05 13:15:44,462 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:15:44,462 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:15:44,462 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:15:44,463 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:15:44,463 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:15:44,463 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:15:44,463 [INFO] price_checker.py:458 - total: 
2024-12-05 13:15:44,463 [INFO] price_checker.py:506 - ✓ 成功获取 11/01/2025 的价格信息
2024-12-05 13:15:44,463 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:15:44,463 [INFO] price_checker.py:500 - [17/39] 处理日期: 12/01/2025
2024-12-05 13:15:44,463 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:15:44,463 [INFO] price_checker.py:256 - 入住日期: 12/01/2025
2024-12-05 13:15:49,632 [INFO] price_checker.py:272 - 开始检查日期 12/01/2025 的最小入住要求...
2024-12-05 13:15:49,635 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_1mv3p4vt" role="button" aria-disabled="false" aria-label="12, Sunday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-12/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">12</div></td>
2024-12-05 13:15:49,645 [INFO] price_checker.py:159 - 找到日期: 12/01/2025
2024-12-05 13:15:49,645 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:15:50,761 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:15:52,051 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_ubf03zg" role="button" aria-disabled="true" aria-label="12, Sunday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_17slido1 notranslate" data-testid="calendar-day-12/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">12</div></div></td>
2024-12-05 13:15:52,061 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:15:52,061 [INFO] price_checker.py:219 - - aria-label: 12, Sunday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:15:52,061 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:15:52,061 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:15:52,061 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:15:52,061 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:15:52,061 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-12&check_out=2025-01-15&adults=3&children=0&infants=0
2024-12-05 13:15:57,186 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:15:57,191 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:15:59,206 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:15:59,206 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:16:09,238 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:16:09,238 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:16:19,260 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:16:19,260 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:16:19,266 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:16:19,281 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:16:19,286 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:16:19,286 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:16:19,286 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:16:19,293 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:16:19,796 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:16:19,803 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:16:19,810 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:16:19,810 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:16:19,810 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:16:19,816 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:16:19,821 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:16:19,821 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:16:19,821 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:16:19,828 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:16:19,833 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:16:19,833 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:16:19,833 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:16:19,840 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:16:19,845 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:16:19,845 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:16:19,845 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:16:19,851 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:16:19,856 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:16:19,856 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:16:19,857 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:16:29,905 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:16:29,912 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:16:29,917 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:16:29,917 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:16:29,917 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:16:29,924 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:16:29,929 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:16:29,929 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:16:29,934 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:16:29,934 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:16:29,938 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:16:29,938 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:16:29,939 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:16:29,939 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:16:29,939 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:16:29,939 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:16:29,939 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:16:29,939 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - check_in: 12/01/2025
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - check_out: 15/01/2025
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:16:29,939 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:16:29,940 [INFO] price_checker.py:458 - total: 
2024-12-05 13:16:29,940 [INFO] price_checker.py:506 - ✓ 成功获取 12/01/2025 的价格信息
2024-12-05 13:16:29,940 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:16:29,940 [INFO] price_checker.py:500 - [18/39] 处理日期: 13/01/2025
2024-12-05 13:16:29,940 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:16:29,940 [INFO] price_checker.py:256 - 入住日期: 13/01/2025
2024-12-05 13:16:35,104 [INFO] price_checker.py:272 - 开始检查日期 13/01/2025 的最小入住要求...
2024-12-05 13:16:35,106 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_sl5yz7r" role="button" aria-disabled="false" aria-label="13, Monday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-13/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">13</div></td>
2024-12-05 13:16:35,117 [INFO] price_checker.py:159 - 找到日期: 13/01/2025
2024-12-05 13:16:35,117 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:16:36,249 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:16:37,539 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_5v1jabe" role="button" aria-disabled="true" aria-label="13, Monday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translateY(-100%) translateY(-12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="left: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_17slido1 notranslate" data-testid="calendar-day-13/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">13</div></div></td>
2024-12-05 13:16:37,548 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:16:37,548 [INFO] price_checker.py:219 - - aria-label: 13, Monday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:16:37,548 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:16:37,548 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:16:37,548 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:16:37,548 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:16:37,548 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-13&check_out=2025-01-16&adults=3&children=0&infants=0
2024-12-05 13:16:42,671 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:16:42,674 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:16:44,685 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:16:44,685 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:16:54,727 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:16:54,727 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:17:04,784 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:17:04,785 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:17:04,790 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:17:04,806 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:17:04,812 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:17:04,812 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:17:04,812 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:17:04,818 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:17:05,321 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:17:05,329 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:17:05,335 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:17:05,335 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:17:05,335 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:17:05,342 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:17:05,347 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:17:05,347 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:17:05,347 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:17:05,353 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:17:05,358 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:17:05,358 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:17:05,358 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:17:05,366 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:17:05,371 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:17:05,371 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:17:05,371 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:17:05,377 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:17:05,382 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:17:05,383 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:17:05,383 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:17:15,444 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:17:15,451 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:17:15,456 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:17:15,456 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:17:15,456 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:17:15,463 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:17:15,469 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:17:15,469 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:17:15,474 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:17:15,474 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:17:15,479 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:17:15,479 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:17:15,480 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:17:15,480 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:17:15,480 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:17:15,480 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:17:15,480 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:17:15,480 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:17:15,480 [INFO] price_checker.py:458 - check_in: 13/01/2025
2024-12-05 13:17:15,480 [INFO] price_checker.py:458 - check_out: 16/01/2025
2024-12-05 13:17:15,480 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:17:15,480 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:17:15,480 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:17:15,480 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:17:15,481 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:17:15,481 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:17:15,481 [INFO] price_checker.py:458 - total: 
2024-12-05 13:17:15,481 [INFO] price_checker.py:506 - ✓ 成功获取 13/01/2025 的价格信息
2024-12-05 13:17:15,481 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:17:15,481 [INFO] price_checker.py:520 - 已完成 20/39 个日期的处理
2024-12-05 13:17:25,482 [INFO] price_checker.py:500 - [19/39] 处理日期: 14/01/2025
2024-12-05 13:17:25,482 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:17:25,482 [INFO] price_checker.py:256 - 入住日期: 14/01/2025
2024-12-05 13:17:30,655 [INFO] price_checker.py:272 - 开始检查日期 14/01/2025 的最小入住要求...
2024-12-05 13:17:30,659 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="14, Tuesday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-14/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">14</div></td>
2024-12-05 13:17:30,668 [INFO] price_checker.py:159 - 找到日期: 14/01/2025
2024-12-05 13:17:30,668 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:17:31,782 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:17:33,057 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="14, Tuesday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translateY(-100%) translateY(-12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="left: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-14/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">14</div></div></td>
2024-12-05 13:17:33,066 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:17:33,066 [INFO] price_checker.py:219 - - aria-label: 14, Tuesday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:17:33,066 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:17:33,066 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:17:33,066 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:17:33,066 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:17:33,067 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-14&check_out=2025-01-17&adults=3&children=0&infants=0
2024-12-05 13:17:38,187 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:17:38,190 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:17:40,201 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:17:40,202 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:17:50,210 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:17:50,210 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:18:00,244 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:18:00,244 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:18:00,250 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:18:00,265 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:18:00,271 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:18:00,271 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:18:00,271 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:18:00,277 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:18:00,780 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:00,786 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:00,793 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:18:00,793 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:18:00,793 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:00,800 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:00,804 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:18:00,804 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:18:00,804 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:00,811 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:00,815 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:18:00,815 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:18:00,815 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:00,821 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:00,827 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:18:00,827 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:18:00,827 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:00,834 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:00,838 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:18:00,838 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:18:00,838 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:10,878 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:18:10,885 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:10,890 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:18:10,890 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:18:10,891 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:18:10,897 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:18:10,902 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:18:10,902 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:18:10,906 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:18:10,907 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:18:10,911 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:18:10,911 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:18:10,911 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:18:10,911 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:18:10,911 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:18:10,912 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:18:10,912 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:18:10,912 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - check_in: 14/01/2025
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - check_out: 17/01/2025
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:18:10,912 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:18:10,913 [INFO] price_checker.py:458 - total: 
2024-12-05 13:18:10,913 [INFO] price_checker.py:506 - ✓ 成功获取 14/01/2025 的价格信息
2024-12-05 13:18:10,913 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:18:10,913 [INFO] price_checker.py:500 - [20/39] 处理日期: 15/01/2025
2024-12-05 13:18:10,913 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:18:10,913 [INFO] price_checker.py:256 - 入住日期: 15/01/2025
2024-12-05 13:18:16,074 [INFO] price_checker.py:272 - 开始检查日期 15/01/2025 的最小入住要求...
2024-12-05 13:18:16,077 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="15, Wednesday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-15/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">15</div></td>
2024-12-05 13:18:16,086 [INFO] price_checker.py:159 - 找到日期: 15/01/2025
2024-12-05 13:18:16,086 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:18:17,206 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:18:18,483 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="15, Wednesday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-15/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">15</div></div></td>
2024-12-05 13:18:18,492 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:18:18,492 [INFO] price_checker.py:219 - - aria-label: 15, Wednesday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:18:18,492 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:18:18,492 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:18:18,492 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:18:18,492 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:18:18,492 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-15&check_out=2025-01-18&adults=3&children=0&infants=0
2024-12-05 13:18:23,611 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:18:23,613 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:18:25,623 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:18:25,623 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:18:35,641 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:18:35,641 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:18:45,674 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:18:45,674 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:18:45,679 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:18:45,693 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:18:45,699 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:18:45,699 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:18:45,699 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:18:45,704 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:18:46,207 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:46,215 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:46,221 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:18:46,221 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:18:46,221 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:46,227 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:46,233 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:18:46,233 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:18:46,233 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:46,239 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:46,244 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:18:46,244 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:18:46,244 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:46,251 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:46,256 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:18:46,256 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:18:46,256 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:46,262 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:46,268 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:18:46,268 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:18:46,268 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:18:56,309 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:18:56,316 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:18:56,323 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:18:56,323 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:18:56,323 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:18:56,329 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:18:56,334 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:18:56,334 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:18:56,340 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:18:56,340 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:18:56,345 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:18:56,345 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:18:56,345 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:18:56,345 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:18:56,345 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:18:56,345 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:18:56,346 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:18:56,346 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - check_in: 15/01/2025
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - check_out: 18/01/2025
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:18:56,346 [INFO] price_checker.py:458 - total: 
2024-12-05 13:18:56,346 [INFO] price_checker.py:506 - ✓ 成功获取 15/01/2025 的价格信息
2024-12-05 13:18:56,346 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:18:56,346 [INFO] price_checker.py:500 - [21/39] 处理日期: 16/01/2025
2024-12-05 13:18:56,347 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:18:56,347 [INFO] price_checker.py:256 - 入住日期: 16/01/2025
2024-12-05 13:19:01,517 [INFO] price_checker.py:272 - 开始检查日期 16/01/2025 的最小入住要求...
2024-12-05 13:19:01,520 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="16, Thursday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-16/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">16</div></td>
2024-12-05 13:19:01,530 [INFO] price_checker.py:159 - 找到日期: 16/01/2025
2024-12-05 13:19:01,530 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:19:02,661 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:19:03,950 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="16, Thursday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-16/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">16</div></div></td>
2024-12-05 13:19:03,958 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:19:03,958 [INFO] price_checker.py:219 - - aria-label: 16, Thursday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:19:03,958 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:19:03,958 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:19:03,959 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:19:03,959 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:19:03,959 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-16&check_out=2025-01-19&adults=3&children=0&infants=0
2024-12-05 13:19:09,096 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:19:09,099 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:19:11,110 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:19:11,111 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:19:21,144 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:19:21,144 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:19:31,175 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:19:31,175 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:19:31,180 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:19:31,194 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:19:31,199 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:19:31,199 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:19:31,199 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:19:31,206 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:19:31,708 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:19:31,716 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:19:31,721 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:19:31,722 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:19:31,722 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:19:31,728 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:19:31,733 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:19:31,733 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:19:31,733 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:19:31,740 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:19:31,744 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:19:31,744 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:19:31,744 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:19:31,750 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:19:31,756 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:19:31,756 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:19:31,756 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:19:31,762 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:19:31,767 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:19:31,767 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:19:31,767 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:19:41,796 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:19:41,803 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:19:41,808 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:19:41,808 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:19:41,808 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:19:41,816 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:19:41,820 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:19:41,820 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:19:41,825 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:19:41,825 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:19:41,831 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:19:41,831 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:19:41,831 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:19:41,831 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:19:41,831 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:19:41,831 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:19:41,831 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:19:41,831 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:19:41,831 [INFO] price_checker.py:458 - check_in: 16/01/2025
2024-12-05 13:19:41,831 [INFO] price_checker.py:458 - check_out: 19/01/2025
2024-12-05 13:19:41,831 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:19:41,832 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:19:41,832 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:19:41,832 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:19:41,832 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:19:41,832 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:19:41,832 [INFO] price_checker.py:458 - total: 
2024-12-05 13:19:41,832 [INFO] price_checker.py:506 - ✓ 成功获取 16/01/2025 的价格信息
2024-12-05 13:19:41,832 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:19:41,832 [INFO] price_checker.py:500 - [22/39] 处理日期: 17/01/2025
2024-12-05 13:19:41,832 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:19:41,832 [INFO] price_checker.py:256 - 入住日期: 17/01/2025
2024-12-05 13:19:46,996 [INFO] price_checker.py:272 - 开始检查日期 17/01/2025 的最小入住要求...
2024-12-05 13:19:47,000 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="17, Friday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-17/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">17</div></td>
2024-12-05 13:19:47,009 [INFO] price_checker.py:159 - 找到日期: 17/01/2025
2024-12-05 13:19:47,009 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:19:48,143 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:19:49,429 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="17, Friday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-17/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">17</div></div></td>
2024-12-05 13:19:49,438 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:19:49,438 [INFO] price_checker.py:219 - - aria-label: 17, Friday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:19:49,438 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:19:49,438 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:19:49,438 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:19:49,438 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:19:49,438 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-17&check_out=2025-01-20&adults=3&children=0&infants=0
2024-12-05 13:19:54,570 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:19:54,573 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:19:56,584 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:19:56,584 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:20:06,624 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:20:06,624 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:20:16,654 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:20:16,654 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:20:16,661 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:20:16,676 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:20:16,682 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:20:16,683 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:20:16,683 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:20:16,688 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:20:17,191 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:20:17,201 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:20:17,217 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:20:17,217 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:20:17,217 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:20:17,224 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:20:17,230 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:20:17,230 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:20:17,230 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:20:17,236 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:20:17,241 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:20:17,241 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:20:17,241 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:20:17,248 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:20:17,253 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:20:17,253 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:20:17,253 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:20:17,259 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:20:17,265 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:20:17,265 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:20:17,265 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:20:27,304 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:20:27,311 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:20:27,317 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:20:27,317 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:20:27,318 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:20:27,324 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:20:27,329 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:20:27,329 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:20:27,336 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:20:27,336 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:20:27,340 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:20:27,340 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:20:27,340 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:20:27,340 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:20:27,340 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:20:27,341 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:20:27,341 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:20:27,341 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - check_in: 17/01/2025
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - check_out: 20/01/2025
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:20:27,341 [INFO] price_checker.py:458 - total: 
2024-12-05 13:20:27,341 [INFO] price_checker.py:506 - ✓ 成功获取 17/01/2025 的价格信息
2024-12-05 13:20:27,341 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:20:27,342 [INFO] price_checker.py:500 - [23/39] 处理日期: 23/01/2025
2024-12-05 13:20:27,342 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:20:27,342 [INFO] price_checker.py:256 - 入住日期: 23/01/2025
2024-12-05 13:20:32,521 [INFO] price_checker.py:272 - 开始检查日期 23/01/2025 的最小入住要求...
2024-12-05 13:20:32,524 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="23, Thursday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-23/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">23</div></td>
2024-12-05 13:20:32,533 [INFO] price_checker.py:159 - 找到日期: 23/01/2025
2024-12-05 13:20:32,533 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:20:33,663 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:20:34,969 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="23, Thursday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_ox7af8h notranslate" data-testid="calendar-day-23/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">23</div></td>
2024-12-05 13:20:34,977 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:20:34,977 [INFO] price_checker.py:219 - - aria-label: 23, Thursday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:20:34,977 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:20:34,977 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:20:34,977 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:20:34,977 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:20:34,978 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-23&check_out=2025-01-26&adults=3&children=0&infants=0
2024-12-05 13:20:40,101 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:20:40,103 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:20:42,117 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:20:42,118 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:20:52,133 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:20:52,133 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:21:02,170 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:21:02,170 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:21:02,175 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:21:02,190 [INFO] price_checker.py:338 - 找到可见价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:21:02,195 [INFO] price_checker.py:351 - 找到每晚价格元素: $294 NZD 
night
$294 NZD per night
2024-12-05 13:21:02,195 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:21:02,196 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:21:02,202 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:21:02,705 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:02,713 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:02,725 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:21:02,725 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:21:02,725 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:02,736 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:02,748 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:21:02,748 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:21:02,748 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:02,757 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:02,762 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:21:02,762 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:21:02,762 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:02,769 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:02,774 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:21:02,774 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:21:02,774 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:02,780 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:02,786 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:21:02,786 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:21:02,786 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:12,824 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:21:12,831 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:12,836 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:21:12,836 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:21:12,836 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:21:12,842 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:21:12,847 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:21:12,847 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:21:12,852 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:21:12,852 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:21:12,857 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:21:12,858 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:21:12,858 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:21:12,858 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:21:12,858 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:21:12,858 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:21:12,858 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:21:12,858 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:21:12,858 [INFO] price_checker.py:458 - check_in: 23/01/2025
2024-12-05 13:21:12,858 [INFO] price_checker.py:458 - check_out: 26/01/2025
2024-12-05 13:21:12,858 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:21:12,858 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:21:12,858 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:21:12,859 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:21:12,859 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:21:12,859 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:21:12,859 [INFO] price_checker.py:458 - total: 
2024-12-05 13:21:12,859 [INFO] price_checker.py:506 - ✓ 成功获取 23/01/2025 的价格信息
2024-12-05 13:21:12,859 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:21:12,859 [INFO] price_checker.py:520 - 已完成 25/39 个日期的处理
2024-12-05 13:21:22,860 [INFO] price_checker.py:500 - [24/39] 处理日期: 24/01/2025
2024-12-05 13:21:22,860 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:21:22,860 [INFO] price_checker.py:256 - 入住日期: 24/01/2025
2024-12-05 13:21:28,023 [INFO] price_checker.py:272 - 开始检查日期 24/01/2025 的最小入住要求...
2024-12-05 13:21:28,026 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="24, Friday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-24/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">24</div></td>
2024-12-05 13:21:28,037 [INFO] price_checker.py:159 - 找到日期: 24/01/2025
2024-12-05 13:21:28,037 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:21:29,163 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:21:30,457 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="24, Friday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-50%, -100%) translate(20.5px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_1mjga4hj"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-24/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">24</div></div></td>
2024-12-05 13:21:30,466 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:21:30,466 [INFO] price_checker.py:219 - - aria-label: 24, Friday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:21:30,466 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:21:30,466 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:21:30,466 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:21:30,466 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:21:30,466 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-24&check_out=2025-01-27&adults=3&children=0&infants=0
2024-12-05 13:21:35,597 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:21:35,599 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:21:37,611 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:21:37,611 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:21:47,672 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:21:47,672 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:21:57,728 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:21:57,728 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:21:57,735 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:21:57,750 [INFO] price_checker.py:338 - 找到可见价格元素: $323 NZD 
$294 NZD 
night
$294 NZD per night, originally $323 NZD
2024-12-05 13:21:57,757 [INFO] price_checker.py:351 - 找到每晚价格元素: $323 NZD 
$294 NZD 
night
$294 NZD per night, originally $323 NZD
2024-12-05 13:21:57,757 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:21:57,757 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:21:57,764 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:21:58,267 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:58,274 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:58,280 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:21:58,280 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:21:58,280 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:58,286 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:58,291 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:21:58,291 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:21:58,291 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:58,298 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:58,302 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:21:58,303 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:21:58,303 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:58,309 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:58,314 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:21:58,314 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:21:58,314 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:21:58,320 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:21:58,325 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:21:58,325 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:21:58,325 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:08,370 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:22:08,377 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:08,382 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:22:08,382 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:22:08,382 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:22:08,389 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:22:08,393 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:22:08,394 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:22:08,398 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:22:08,398 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:22:08,403 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:22:08,403 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:22:08,403 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:22:08,403 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:22:08,403 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:22:08,403 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:22:08,403 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:22:08,403 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - check_in: 24/01/2025
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - check_out: 27/01/2025
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:22:08,404 [INFO] price_checker.py:458 - total: 
2024-12-05 13:22:08,404 [INFO] price_checker.py:506 - ✓ 成功获取 24/01/2025 的价格信息
2024-12-05 13:22:08,404 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:22:08,404 [INFO] price_checker.py:500 - [25/39] 处理日期: 25/01/2025
2024-12-05 13:22:08,404 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:22:08,404 [INFO] price_checker.py:256 - 入住日期: 25/01/2025
2024-12-05 13:22:13,566 [INFO] price_checker.py:272 - 开始检查日期 25/01/2025 的最小入住要求...
2024-12-05 13:22:13,569 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="25, Saturday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-25/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">25</div></td>
2024-12-05 13:22:13,579 [INFO] price_checker.py:159 - 找到日期: 25/01/2025
2024-12-05 13:22:13,579 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:22:14,709 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:22:15,995 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_1fmu67uy" role="button" aria-disabled="true" aria-label="25, Saturday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_194zlzjz notranslate" data-testid="calendar-day-25/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">25</div></div></td>
2024-12-05 13:22:16,003 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:22:16,003 [INFO] price_checker.py:219 - - aria-label: 25, Saturday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:22:16,003 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:22:16,003 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:22:16,003 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:22:16,003 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:22:16,004 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-25&check_out=2025-01-28&adults=3&children=0&infants=0
2024-12-05 13:22:21,124 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:22:21,127 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:22:23,138 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:22:23,138 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:22:33,177 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:22:33,177 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:22:43,235 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:22:43,235 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:22:43,242 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:22:43,257 [INFO] price_checker.py:338 - 找到可见价格元素: $323 NZD 
$294 NZD 
night
$294 NZD per night, originally $323 NZD
2024-12-05 13:22:43,263 [INFO] price_checker.py:351 - 找到每晚价格元素: $323 NZD 
$294 NZD 
night
$294 NZD per night, originally $323 NZD
2024-12-05 13:22:43,263 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:22:43,263 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:22:43,269 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:22:43,772 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:43,779 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:43,785 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:22:43,785 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:22:43,785 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:43,792 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:43,796 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:22:43,796 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:22:43,796 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:43,803 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:43,808 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:22:43,808 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:22:43,808 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:43,814 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:43,819 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:22:43,819 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:22:43,819 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:43,826 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:43,831 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:22:43,831 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:22:43,831 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:22:53,886 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:22:53,893 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:22:53,898 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:22:53,898 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:22:53,898 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:22:53,904 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:22:53,910 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:22:53,910 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:22:53,914 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:22:53,915 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:22:53,919 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:22:53,919 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:22:53,919 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:22:53,919 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:22:53,919 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:22:53,919 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:22:53,919 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:22:53,919 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - check_in: 25/01/2025
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - check_out: 28/01/2025
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:22:53,920 [INFO] price_checker.py:458 - total: 
2024-12-05 13:22:53,920 [INFO] price_checker.py:506 - ✓ 成功获取 25/01/2025 的价格信息
2024-12-05 13:22:53,920 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:22:53,920 [INFO] price_checker.py:500 - [26/39] 处理日期: 26/01/2025
2024-12-05 13:22:53,920 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:22:53,920 [INFO] price_checker.py:256 - 入住日期: 26/01/2025
2024-12-05 13:22:59,084 [INFO] price_checker.py:272 - 开始检查日期 26/01/2025 的最小入住要求...
2024-12-05 13:22:59,087 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_1mv3p4vt" role="button" aria-disabled="false" aria-label="26, Sunday, January 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-26/01/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">26</div></td>
2024-12-05 13:22:59,097 [INFO] price_checker.py:159 - 找到日期: 26/01/2025
2024-12-05 13:22:59,098 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:23:00,216 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:23:01,499 [INFO] price_checker.py:211 - 更新后元素HTML: <td class="_ubf03zg" role="button" aria-disabled="true" aria-label="26, Sunday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_h84ua7"><div class="_d82cel" style="transform: translate(-100%, -100%) translate(41px, -12px);"><div class="_1mslrl4"><div class="_u7azij">3-night minimum</div><svg role="presentation" focusable="false" class="_8c7xtno" style="right: 9.5px;"><path class="_1s2t3cl" d="M0,0 20,0 10,10z"></path><path class="_c3dsty" d="M0,0 10,10 20,0"></path></svg></div></div><div class="_17slido1 notranslate" data-testid="calendar-day-26/01/2025" data-is-day-blocked="true" style="width: 41px; height: 41px;">26</div></div></td>
2024-12-05 13:23:01,507 [INFO] price_checker.py:218 - 更新后元素属性:
2024-12-05 13:23:01,507 [INFO] price_checker.py:219 - - aria-label: 26, Sunday, January 2025. Selected check-in date There is a 3 night minimum stay requirement. 
2024-12-05 13:23:01,507 [INFO] price_checker.py:220 - - aria-disabled: true
2024-12-05 13:23:01,507 [INFO] price_checker.py:221 - - data-is-day-blocked: None
2024-12-05 13:23:01,507 [INFO] price_checker.py:236 - ✓ 成功找到最小入住要求: 3晚 (匹配模式: (\d+)\s*night minimum stay)
2024-12-05 13:23:01,507 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 3晚 (自动检测)
2024-12-05 13:23:01,507 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-01-26&check_out=2025-01-29&adults=3&children=0&infants=0
2024-12-05 13:23:06,627 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:23:06,630 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:23:08,644 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:23:08,644 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:23:18,693 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:23:18,693 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:23:28,750 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:23:28,750 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:23:28,756 [INFO] price_checker.py:333 - 找到 1 个价格元素
2024-12-05 13:23:28,771 [INFO] price_checker.py:338 - 找到可见价格元素: $323 NZD 
$294 NZD 
night
$294 NZD per night, originally $323 NZD
2024-12-05 13:23:28,779 [INFO] price_checker.py:351 - 找到每晚价格元素: $323 NZD 
$294 NZD 
night
$294 NZD per night, originally $323 NZD
2024-12-05 13:23:28,779 [INFO] price_checker.py:357 - 成功解析折扣价格: $294 NZD
2024-12-05 13:23:28,779 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:23:28,785 [INFO] price_checker.py:378 - 价格详情容器已加载
2024-12-05 13:23:29,287 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:23:29,295 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:23:29,300 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:23:29,300 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:23:29,301 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:23:29,307 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:23:29,313 [INFO] price_checker.py:404 - 找到价格元素: $59 NZD (HTML: <span class="_1k4xcdh">$59&nbsp;NZD</span>)
2024-12-05 13:23:29,313 [INFO] price_checker.py:409 - ✓ 成功设置清洁费: $59 NZD
2024-12-05 13:23:29,313 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:23:29,320 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:23:29,324 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:23:29,324 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:23:29,325 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:23:29,331 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:23:29,336 [INFO] price_checker.py:404 - 找到价格元素: $131 NZD (HTML: <span class="_1k4xcdh">$131&nbsp;NZD</span>)
2024-12-05 13:23:29,336 [INFO] price_checker.py:413 - ✓ 成功设置服务费: $131 NZD
2024-12-05 13:23:29,336 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:23:29,342 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:23:29,348 [INFO] price_checker.py:404 - 找到价格元素: $121 NZD (HTML: <span class="_1k4xcdh">$121&nbsp;NZD</span>)
2024-12-05 13:23:29,348 [INFO] price_checker.py:417 - ✓ 成功设置税费: $121 NZD
2024-12-05 13:23:29,348 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:23:39,389 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:23:39,396 [INFO] price_checker.py:399 - 找到 1 个匹配元素
2024-12-05 13:23:39,401 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:23:39,401 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:23:39,401 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:23:39,408 [INFO] price_checker.py:399 - 找到 3 个匹配元素
2024-12-05 13:23:39,412 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span aria-hidden="false"><span class="_j1kt73">$1,061&nbsp;NZD</span></span>)
2024-12-05 13:23:39,412 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:23:39,417 [INFO] price_checker.py:404 - 找到价格元素: $1,061 NZD (HTML: <span class="_j1kt73">$1,061&nbsp;NZD</span>)
2024-12-05 13:23:39,417 [INFO] price_checker.py:421 - ✓ 成功设置总价: $1,061 NZD
2024-12-05 13:23:39,422 [INFO] price_checker.py:404 - 找到价格元素:  (HTML: <span class="a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts dir dir-ltr"></span>)
2024-12-05 13:23:39,422 [INFO] price_checker.py:421 - ✓ 成功设置总价: 
2024-12-05 13:23:39,422 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:23:39,422 [INFO] price_checker.py:451 - ✓ cleaning_fee: $59 NZD
2024-12-05 13:23:39,422 [INFO] price_checker.py:451 - ✓ service_fee: $131 NZD
2024-12-05 13:23:39,422 [INFO] price_checker.py:451 - ✓ taxes: $121 NZD
2024-12-05 13:23:39,422 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:23:39,422 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - check_in: 26/01/2025
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - check_out: 29/01/2025
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - min_nights: 3
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - nightly_price: $294 NZD
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - cleaning_fee: $59 NZD
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - service_fee: $131 NZD
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - taxes: $121 NZD
2024-12-05 13:23:39,423 [INFO] price_checker.py:458 - total: 
2024-12-05 13:23:39,423 [INFO] price_checker.py:506 - ✓ 成功获取 26/01/2025 的价格信息
2024-12-05 13:23:39,423 [INFO] price_checker.py:512 - 根据最小入住要求(3晚)跳过接下来的 2 天
2024-12-05 13:23:39,423 [INFO] price_checker.py:500 - [27/39] 处理日期: 16/02/2025
2024-12-05 13:23:39,423 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:23:39,423 [INFO] price_checker.py:256 - 入住日期: 16/02/2025
2024-12-05 13:23:44,591 [INFO] price_checker.py:272 - 开始检查日期 16/02/2025 的最小入住要求...
2024-12-05 13:23:44,594 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_1mv3p4vt" role="button" aria-disabled="false" aria-label="16, Sunday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-16/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">16</div></td>
2024-12-05 13:23:44,604 [INFO] price_checker.py:159 - 找到日期: 16/02/2025
2024-12-05 13:23:44,604 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:23:54,635 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:23:55,779 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:23:55,784 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:23:55,784 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:23:55,803 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:23:55,803 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:23:55,803 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:23:55,803 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-16&check_out=2025-02-17&adults=3&children=0&infants=0
2024-12-05 13:24:00,941 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:24:00,944 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:24:02,954 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:24:02,954 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:24:12,963 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:24:12,963 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:24:23,024 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:24:23,024 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:24:33,047 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:24:33,047 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:24:43,099 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:24:43,100 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:24:53,151 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:24:53,151 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:25:03,196 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:25:03,197 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:25:13,251 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:25:23,308 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:25:33,347 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:25:43,400 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:25:53,457 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:26:03,514 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:26:13,518 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:26:33,569 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:26:33,570 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:26:33,570 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:26:33,570 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:26:33,570 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:26:33,570 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:26:33,570 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - check_in: 16/02/2025
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - check_out: 17/02/2025
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:26:33,570 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:26:33,571 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:26:33,571 [INFO] price_checker.py:458 - total: None
2024-12-05 13:26:33,571 [INFO] price_checker.py:506 - ✓ 成功获取 16/02/2025 的价格信息
2024-12-05 13:26:33,571 [INFO] price_checker.py:500 - [28/39] 处理日期: 17/02/2025
2024-12-05 13:26:33,571 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:26:33,571 [INFO] price_checker.py:256 - 入住日期: 17/02/2025
2024-12-05 13:26:38,739 [INFO] price_checker.py:272 - 开始检查日期 17/02/2025 的最小入住要求...
2024-12-05 13:26:38,744 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_sl5yz7r" role="button" aria-disabled="false" aria-label="17, Monday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-17/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">17</div></td>
2024-12-05 13:26:38,754 [INFO] price_checker.py:159 - 找到日期: 17/02/2025
2024-12-05 13:26:38,754 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:26:48,800 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:26:49,930 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:26:49,935 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:26:49,935 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:26:49,936 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:26:49,937 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:26:49,937 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:26:49,937 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-17&check_out=2025-02-18&adults=3&children=0&infants=0
2024-12-05 13:26:55,066 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:26:55,069 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:26:57,080 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:26:57,080 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:27:07,113 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:27:07,113 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:27:17,151 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:27:17,151 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:27:27,200 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:27:27,200 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:27:37,242 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:27:37,242 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:27:47,282 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:27:47,282 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:27:57,316 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:27:57,316 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:28:07,379 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:28:17,381 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:28:27,441 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:28:37,501 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:28:47,562 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:28:57,599 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:29:07,650 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:29:27,758 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:29:27,759 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:29:27,759 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:29:27,759 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:29:27,759 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:29:27,759 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:29:27,759 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:29:27,759 [INFO] price_checker.py:458 - check_in: 17/02/2025
2024-12-05 13:29:27,759 [INFO] price_checker.py:458 - check_out: 18/02/2025
2024-12-05 13:29:27,759 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:29:27,759 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:29:27,760 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:29:27,760 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:29:27,760 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:29:27,760 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:29:27,760 [INFO] price_checker.py:458 - total: None
2024-12-05 13:29:27,760 [INFO] price_checker.py:506 - ✓ 成功获取 17/02/2025 的价格信息
2024-12-05 13:29:27,760 [INFO] price_checker.py:500 - [29/39] 处理日期: 18/02/2025
2024-12-05 13:29:27,760 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:29:27,760 [INFO] price_checker.py:256 - 入住日期: 18/02/2025
2024-12-05 13:29:32,933 [INFO] price_checker.py:272 - 开始检查日期 18/02/2025 的最小入住要求...
2024-12-05 13:29:32,937 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="18, Tuesday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-18/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">18</div></td>
2024-12-05 13:29:32,948 [INFO] price_checker.py:159 - 找到日期: 18/02/2025
2024-12-05 13:29:32,948 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:29:42,993 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:29:44,126 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:29:44,131 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:29:44,131 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:29:44,132 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:29:44,133 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:29:44,133 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:29:44,133 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-18&check_out=2025-02-19&adults=3&children=0&infants=0
2024-12-05 13:29:49,274 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:29:49,277 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:29:51,287 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:29:51,287 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:30:01,331 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:30:01,331 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:30:11,372 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:30:11,372 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:30:21,431 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:30:21,431 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:30:31,492 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:30:31,492 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:30:41,531 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:30:41,531 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:30:51,591 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:30:51,592 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:31:01,596 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:31:11,644 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:31:21,691 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:31:31,750 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:31:41,811 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:31:51,824 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:32:01,873 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:32:21,976 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:32:21,976 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:32:21,976 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:32:21,976 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:32:21,976 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:32:21,976 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:32:21,976 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:32:21,976 [INFO] price_checker.py:458 - check_in: 18/02/2025
2024-12-05 13:32:21,976 [INFO] price_checker.py:458 - check_out: 19/02/2025
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:32:21,977 [INFO] price_checker.py:458 - total: None
2024-12-05 13:32:21,977 [INFO] price_checker.py:506 - ✓ 成功获取 18/02/2025 的价格信息
2024-12-05 13:32:21,977 [INFO] price_checker.py:500 - [30/39] 处理日期: 19/02/2025
2024-12-05 13:32:21,977 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:32:21,977 [INFO] price_checker.py:256 - 入住日期: 19/02/2025
2024-12-05 13:32:27,145 [INFO] price_checker.py:272 - 开始检查日期 19/02/2025 的最小入住要求...
2024-12-05 13:32:27,149 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="19, Wednesday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-19/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">19</div></td>
2024-12-05 13:32:27,160 [INFO] price_checker.py:159 - 找到日期: 19/02/2025
2024-12-05 13:32:27,160 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:32:37,223 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:32:38,348 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:32:38,353 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:32:38,353 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:32:38,354 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:32:38,354 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:32:38,355 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:32:38,355 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-19&check_out=2025-02-20&adults=3&children=0&infants=0
2024-12-05 13:32:43,490 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:32:43,494 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:32:45,506 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:32:45,506 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:32:55,523 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:32:55,523 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:33:05,569 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:33:05,570 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:33:15,626 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:33:15,626 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:33:25,681 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:33:25,681 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:33:35,743 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:33:35,743 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:33:45,794 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:33:45,794 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:33:55,801 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:34:05,860 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:34:15,914 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:34:25,965 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:34:36,026 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:34:46,073 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:34:56,104 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:35:16,144 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:35:16,145 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:35:16,145 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:35:16,145 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:35:16,145 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:35:16,145 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:35:16,145 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - check_in: 19/02/2025
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - check_out: 20/02/2025
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:35:16,145 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:35:16,146 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:35:16,146 [INFO] price_checker.py:458 - total: None
2024-12-05 13:35:16,146 [INFO] price_checker.py:506 - ✓ 成功获取 19/02/2025 的价格信息
2024-12-05 13:35:16,146 [INFO] price_checker.py:520 - 已完成 30/39 个日期的处理
2024-12-05 13:35:26,146 [INFO] price_checker.py:500 - [31/39] 处理日期: 20/02/2025
2024-12-05 13:35:26,146 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:35:26,146 [INFO] price_checker.py:256 - 入住日期: 20/02/2025
2024-12-05 13:35:31,313 [INFO] price_checker.py:272 - 开始检查日期 20/02/2025 的最小入住要求...
2024-12-05 13:35:31,318 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="20, Thursday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-20/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">20</div></td>
2024-12-05 13:35:31,327 [INFO] price_checker.py:159 - 找到日期: 20/02/2025
2024-12-05 13:35:31,327 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:35:41,369 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:35:42,494 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:35:42,499 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:35:42,499 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:35:42,500 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:35:42,501 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:35:42,501 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:35:42,501 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-20&check_out=2025-02-21&adults=3&children=0&infants=0
2024-12-05 13:35:47,626 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:35:47,629 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:35:49,639 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:35:49,639 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:35:59,654 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:35:59,654 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:36:09,704 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:36:09,704 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:36:19,762 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:36:19,762 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:36:29,773 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:36:29,774 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:36:39,820 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:36:39,820 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:36:49,854 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:36:49,854 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:36:59,900 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:37:09,956 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:37:20,004 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:37:30,063 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:37:40,121 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:37:50,168 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:38:00,188 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:38:20,245 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:38:20,246 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:38:20,246 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:38:20,246 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:38:20,246 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:38:20,246 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:38:20,246 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - check_in: 20/02/2025
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - check_out: 21/02/2025
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:38:20,246 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:38:20,247 [INFO] price_checker.py:458 - total: None
2024-12-05 13:38:20,247 [INFO] price_checker.py:506 - ✓ 成功获取 20/02/2025 的价格信息
2024-12-05 13:38:20,247 [INFO] price_checker.py:500 - [32/39] 处理日期: 21/02/2025
2024-12-05 13:38:20,247 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:38:20,247 [INFO] price_checker.py:256 - 入住日期: 21/02/2025
2024-12-05 13:38:25,411 [INFO] price_checker.py:272 - 开始检查日期 21/02/2025 的最小入住要求...
2024-12-05 13:38:25,414 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="21, Friday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-21/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">21</div></td>
2024-12-05 13:38:25,424 [INFO] price_checker.py:159 - 找到日期: 21/02/2025
2024-12-05 13:38:25,424 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:38:35,480 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:38:36,629 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:38:36,635 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:38:36,635 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:38:36,636 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:38:36,636 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:38:36,637 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:38:36,637 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-21&check_out=2025-02-22&adults=3&children=0&infants=0
2024-12-05 13:38:41,772 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:38:41,775 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:38:43,787 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:38:43,787 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:38:53,832 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:38:53,832 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:39:03,868 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:39:03,868 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:39:13,922 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:39:13,922 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:39:23,964 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:39:23,964 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:39:34,006 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:39:34,006 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:39:44,058 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:39:44,058 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:39:54,114 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:40:04,162 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:40:14,210 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:40:24,265 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:40:34,277 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:40:44,322 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:40:54,370 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:41:14,463 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:41:14,463 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:41:14,463 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:41:14,464 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:41:14,464 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:41:14,464 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:41:14,464 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - check_in: 21/02/2025
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - check_out: 22/02/2025
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:41:14,464 [INFO] price_checker.py:458 - total: None
2024-12-05 13:41:14,464 [INFO] price_checker.py:506 - ✓ 成功获取 21/02/2025 的价格信息
2024-12-05 13:41:14,464 [INFO] price_checker.py:500 - [33/39] 处理日期: 22/02/2025
2024-12-05 13:41:14,465 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:41:14,465 [INFO] price_checker.py:256 - 入住日期: 22/02/2025
2024-12-05 13:41:19,634 [INFO] price_checker.py:272 - 开始检查日期 22/02/2025 的最小入住要求...
2024-12-05 13:41:19,638 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="22, Saturday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-22/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">22</div></td>
2024-12-05 13:41:19,648 [INFO] price_checker.py:159 - 找到日期: 22/02/2025
2024-12-05 13:41:19,648 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:41:29,656 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:41:30,806 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:41:30,812 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:41:30,812 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:41:30,813 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:41:30,813 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:41:30,813 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:41:30,814 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-22&check_out=2025-02-23&adults=3&children=0&infants=0
2024-12-05 13:41:35,956 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:41:35,958 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:41:37,969 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:41:37,969 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:41:47,972 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:41:47,972 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:41:57,977 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:41:57,977 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:42:08,036 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:42:08,037 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:42:18,075 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:42:18,075 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:42:28,078 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:42:28,078 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:42:38,121 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:42:38,121 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:42:48,161 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:42:58,209 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:43:08,261 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:43:18,269 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:43:28,328 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:43:38,369 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:43:48,407 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:44:08,520 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:44:08,520 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:44:08,520 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:44:08,520 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:44:08,520 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:44:08,520 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:44:08,520 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:44:08,520 [INFO] price_checker.py:458 - check_in: 22/02/2025
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - check_out: 23/02/2025
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:44:08,521 [INFO] price_checker.py:458 - total: None
2024-12-05 13:44:08,521 [INFO] price_checker.py:506 - ✓ 成功获取 22/02/2025 的价格信息
2024-12-05 13:44:08,521 [INFO] price_checker.py:500 - [34/39] 处理日期: 23/02/2025
2024-12-05 13:44:08,521 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:44:08,521 [INFO] price_checker.py:256 - 入住日期: 23/02/2025
2024-12-05 13:44:13,689 [INFO] price_checker.py:272 - 开始检查日期 23/02/2025 的最小入住要求...
2024-12-05 13:44:13,692 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_1mv3p4vt" role="button" aria-disabled="false" aria-label="23, Sunday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-23/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">23</div></td>
2024-12-05 13:44:13,702 [INFO] price_checker.py:159 - 找到日期: 23/02/2025
2024-12-05 13:44:13,702 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:44:23,758 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:44:24,881 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:44:24,885 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:44:24,886 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:44:24,887 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:44:24,887 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:44:24,887 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:44:24,887 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-23&check_out=2025-02-24&adults=3&children=0&infants=0
2024-12-05 13:44:30,020 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:44:30,023 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:44:32,034 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:44:32,034 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:44:42,048 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:44:42,048 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:44:52,100 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:44:52,101 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:45:02,143 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:45:02,143 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:45:12,196 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:45:12,196 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:45:22,242 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:45:22,245 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:45:32,308 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:45:32,308 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:45:42,367 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:45:52,420 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:46:02,475 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:46:12,527 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:46:22,568 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:46:32,616 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:46:42,662 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:47:02,728 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:47:02,728 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:47:02,728 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:47:02,728 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:47:02,728 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:47:02,728 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:47:02,729 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - check_in: 23/02/2025
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - check_out: 24/02/2025
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:47:02,729 [INFO] price_checker.py:458 - total: None
2024-12-05 13:47:02,729 [INFO] price_checker.py:506 - ✓ 成功获取 23/02/2025 的价格信息
2024-12-05 13:47:02,729 [INFO] price_checker.py:500 - [35/39] 处理日期: 24/02/2025
2024-12-05 13:47:02,729 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:47:02,729 [INFO] price_checker.py:256 - 入住日期: 24/02/2025
2024-12-05 13:47:07,892 [INFO] price_checker.py:272 - 开始检查日期 24/02/2025 的最小入住要求...
2024-12-05 13:47:07,897 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_sl5yz7r" role="button" aria-disabled="false" aria-label="24, Monday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-24/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">24</div></td>
2024-12-05 13:47:07,905 [INFO] price_checker.py:159 - 找到日期: 24/02/2025
2024-12-05 13:47:07,906 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:47:17,915 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:47:19,062 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:47:19,067 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:47:19,067 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:47:19,068 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:47:19,068 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:47:19,068 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:47:19,069 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-24&check_out=2025-02-25&adults=3&children=0&infants=0
2024-12-05 13:47:24,202 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:47:24,205 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:47:26,217 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:47:26,217 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:47:36,270 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:47:36,270 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:47:46,277 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:47:46,277 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:47:56,314 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:47:56,314 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:48:06,358 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:48:06,358 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:48:16,399 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:48:16,400 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:48:26,447 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:48:26,447 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:48:36,487 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:48:46,522 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:48:56,570 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:49:06,603 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:49:16,624 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:49:26,673 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:49:36,723 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:49:56,770 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:49:56,771 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:49:56,771 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:49:56,771 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:49:56,771 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:49:56,771 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:49:56,771 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - check_in: 24/02/2025
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - check_out: 25/02/2025
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:49:56,771 [INFO] price_checker.py:458 - total: None
2024-12-05 13:49:56,772 [INFO] price_checker.py:506 - ✓ 成功获取 24/02/2025 的价格信息
2024-12-05 13:49:56,772 [INFO] price_checker.py:520 - 已完成 35/39 个日期的处理
2024-12-05 13:50:06,772 [INFO] price_checker.py:500 - [36/39] 处理日期: 25/02/2025
2024-12-05 13:50:06,772 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:50:06,772 [INFO] price_checker.py:256 - 入住日期: 25/02/2025
2024-12-05 13:50:11,942 [INFO] price_checker.py:272 - 开始检查日期 25/02/2025 的最小入住要求...
2024-12-05 13:50:11,945 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="25, Tuesday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-25/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">25</div></td>
2024-12-05 13:50:11,955 [INFO] price_checker.py:159 - 找到日期: 25/02/2025
2024-12-05 13:50:11,955 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:50:22,004 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:50:23,125 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:50:23,130 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:50:23,131 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:50:23,132 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:50:23,132 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:50:23,132 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:50:23,132 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-25&check_out=2025-02-26&adults=3&children=0&infants=0
2024-12-05 13:50:28,257 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:50:28,261 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:50:30,272 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:50:30,272 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:50:40,287 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:50:40,288 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:50:50,333 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:50:50,334 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:51:00,379 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:51:00,379 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:51:10,432 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:51:10,432 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:51:20,473 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:51:20,474 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:51:30,477 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:51:30,477 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:51:40,534 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:51:50,582 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:52:00,629 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:52:10,685 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:52:20,732 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:52:30,778 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:52:40,831 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:53:00,936 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:53:00,937 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:53:00,937 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:53:00,937 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:53:00,937 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:53:00,937 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:53:00,937 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:53:00,937 [INFO] price_checker.py:458 - check_in: 25/02/2025
2024-12-05 13:53:00,937 [INFO] price_checker.py:458 - check_out: 26/02/2025
2024-12-05 13:53:00,937 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:53:00,937 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:53:00,937 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:53:00,937 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:53:00,938 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:53:00,938 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:53:00,938 [INFO] price_checker.py:458 - total: None
2024-12-05 13:53:00,938 [INFO] price_checker.py:506 - ✓ 成功获取 25/02/2025 的价格信息
2024-12-05 13:53:00,938 [INFO] price_checker.py:500 - [37/39] 处理日期: 26/02/2025
2024-12-05 13:53:00,938 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:53:00,938 [INFO] price_checker.py:256 - 入住日期: 26/02/2025
2024-12-05 13:53:06,104 [INFO] price_checker.py:272 - 开始检查日期 26/02/2025 的最小入住要求...
2024-12-05 13:53:06,107 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="26, Wednesday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-26/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">26</div></td>
2024-12-05 13:53:06,117 [INFO] price_checker.py:159 - 找到日期: 26/02/2025
2024-12-05 13:53:06,117 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:53:16,125 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:53:17,267 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:53:17,272 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:53:17,273 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:53:17,274 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:53:17,274 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:53:17,274 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:53:17,274 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-26&check_out=2025-02-27&adults=3&children=0&infants=0
2024-12-05 13:53:22,410 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:53:22,413 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:53:24,423 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:53:24,423 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:53:34,484 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:53:34,484 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:53:44,540 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:53:44,540 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:53:54,589 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:53:54,589 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:54:04,641 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:54:04,641 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:54:14,701 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:54:14,701 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:54:24,759 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:54:24,759 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:54:34,820 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:54:44,858 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:54:54,917 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:55:04,961 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:55:15,014 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:55:25,072 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:55:35,076 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:55:55,135 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:55:55,136 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:55:55,136 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:55:55,136 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:55:55,136 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:55:55,136 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:55:55,136 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:55:55,136 [INFO] price_checker.py:458 - check_in: 26/02/2025
2024-12-05 13:55:55,136 [INFO] price_checker.py:458 - check_out: 27/02/2025
2024-12-05 13:55:55,136 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:55:55,136 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:55:55,137 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:55:55,137 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:55:55,137 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:55:55,137 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:55:55,137 [INFO] price_checker.py:458 - total: None
2024-12-05 13:55:55,137 [INFO] price_checker.py:506 - ✓ 成功获取 26/02/2025 的价格信息
2024-12-05 13:55:55,137 [INFO] price_checker.py:500 - [38/39] 处理日期: 27/02/2025
2024-12-05 13:55:55,137 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:55:55,137 [INFO] price_checker.py:256 - 入住日期: 27/02/2025
2024-12-05 13:56:00,301 [INFO] price_checker.py:272 - 开始检查日期 27/02/2025 的最小入住要求...
2024-12-05 13:56:00,304 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_2byvyib" role="button" aria-disabled="false" aria-label="27, Thursday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_697u988 notranslate" data-testid="calendar-day-27/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">27</div></td>
2024-12-05 13:56:00,314 [INFO] price_checker.py:159 - 找到日期: 27/02/2025
2024-12-05 13:56:00,314 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:56:10,322 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:56:11,438 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:56:11,444 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:56:11,444 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:56:11,445 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:56:11,445 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:56:11,445 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:56:11,446 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-27&check_out=2025-02-28&adults=3&children=0&infants=0
2024-12-05 13:56:16,579 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:56:16,581 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:56:18,592 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:56:18,593 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:56:28,634 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:56:28,634 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:56:38,692 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:56:38,692 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:56:48,729 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:56:48,729 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:56:58,765 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:56:58,765 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 13:57:08,822 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:57:08,822 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 13:57:18,824 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 13:57:18,824 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:57:28,878 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:57:38,883 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:57:48,932 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:57:58,970 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:58:08,972 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 13:58:18,977 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 13:58:29,040 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 13:58:49,054 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:58:49,054 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 13:58:49,054 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 13:58:49,054 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 13:58:49,054 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 13:58:49,054 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 13:58:49,054 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 13:58:49,054 [INFO] price_checker.py:458 - check_in: 27/02/2025
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - check_out: 28/02/2025
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - guests: 3
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - taxes: None
2024-12-05 13:58:49,055 [INFO] price_checker.py:458 - total: None
2024-12-05 13:58:49,055 [INFO] price_checker.py:506 - ✓ 成功获取 27/02/2025 的价格信息
2024-12-05 13:58:49,055 [INFO] price_checker.py:500 - [39/39] 处理日期: 28/02/2025
2024-12-05 13:58:49,055 [INFO] price_checker.py:255 - 开始获取价格信息: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 13:58:49,055 [INFO] price_checker.py:256 - 入住日期: 28/02/2025
2024-12-05 13:58:54,218 [INFO] price_checker.py:272 - 开始检查日期 28/02/2025 的最小入住要求...
2024-12-05 13:58:54,221 [INFO] price_checker.py:153 - 初始元素HTML: <td class="_1qvi71ld" role="button" aria-disabled="false" aria-label="28, Friday, February 2025. Available There is a 1 night minimum stay requirement. Select as check-in date. " tabindex="-1" style="width: 41px; height: 41px;"><div class="_1xnkk5ra notranslate" data-testid="calendar-day-28/02/2025" data-is-day-blocked="false" style="width: 41px; height: 41px;">28</div></td>
2024-12-05 13:58:54,230 [INFO] price_checker.py:159 - 找到日期: 28/02/2025
2024-12-05 13:58:54,231 [INFO] price_checker.py:165 - 点击日期元素...
2024-12-05 13:59:04,293 [WARNING] price_checker.py:170 - 点击日期元素失败，尝试使用JavaScript点击: Message: element not interactable
  (Session info: chrome=126.0.6478.255)
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B195D]
	(No symbol) [0x001F3BE4]
	(No symbol) [0x001E912F]
	(No symbol) [0x0021390C]
	(No symbol) [0x001E8BB5]
	(No symbol) [0x00213BA4]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:59:05,450 [INFO] price_checker.py:175 - 移动到日期元素...
2024-12-05 13:59:05,454 [ERROR] price_checker.py:246 - 检查最小入住天数时出错: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 13:59:05,455 [ERROR] price_checker.py:247 - 错误类型: StaleElementReferenceException
2024-12-05 13:59:05,456 [ERROR] price_checker.py:248 - 错误堆栈: Traceback (most recent call last):
  File "C:\GitWork\AirBnB-data-analyzer\price_checker.py", line 177, in min_nights_check
    actions.move_to_element(date_element).perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\action_chains.py", line 94, in perform
    self.w3c_actions.perform()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\common\actions\action_builder.py", line 96, in perform
    self.driver.execute(Command.W3C_ACTIONS, enc)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\webdriver.py", line 380, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\jiann\AppData\Local\Programs\Python\Python313\Lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 229, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: stale element not found in the current frame
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001B6BCF]
	(No symbol) [0x001B8858]
	(No symbol) [0x001B88D0]
	(No symbol) [0x001F830E]
	(No symbol) [0x001F7885]
	(No symbol) [0x00233FA0]
	(No symbol) [0x0021390C]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]


2024-12-05 13:59:05,456 [WARNING] price_checker.py:249 - 使用默认值1晚
2024-12-05 13:59:05,456 [INFO] price_checker.py:274 - 最终使用的最小入住天数: 1晚 (自动检测)
2024-12-05 13:59:05,457 [INFO] price_checker.py:297 - 访问URL: https://www.airbnb.co.nz/rooms/837352260137971048?check_in=2025-02-28&check_out=2025-03-01&adults=3&children=0&infants=0
2024-12-05 13:59:10,592 [INFO] price_checker.py:304 - 检查页面状态...
2024-12-05 13:59:10,596 [INFO] price_checker.py:306 - 页面状态: complete
2024-12-05 13:59:12,606 [INFO] price_checker.py:319 - 价格容器已加载并可见
2024-12-05 13:59:12,606 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_1y74zjx')]
2024-12-05 13:59:22,668 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:59:22,668 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[@data-testid='book-it-default']//span[contains(@class, '_tyxjp1')]
2024-12-05 13:59:32,728 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:59:32,728 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w span._1qgfaxb1
2024-12-05 13:59:42,788 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:59:42,788 [INFO] price_checker.py:328 - 尝试价格选择器: css - div._wgmchy div._1k1ce2w ._11jcbg2
2024-12-05 13:59:52,851 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 13:59:52,851 [INFO] price_checker.py:328 - 尝试价格选择器: xpath - //div[contains(@class, '_wgmchy')]//span[contains(text(), '$') and contains(text(), 'NZD')]
2024-12-05 14:00:02,913 [INFO] price_checker.py:333 - 找到 0 个价格元素
2024-12-05 14:00:02,913 [INFO] price_checker.py:370 - 开始获取价格详情...
2024-12-05 14:00:12,923 [WARNING] price_checker.py:385 - 等待价格详情容器超时
2024-12-05 14:00:12,923 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Cleaning fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 14:00:22,960 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'Cleaning fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 14:00:33,013 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Airbnb service fee']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 14:00:43,062 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'service fee')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 14:00:53,110 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[text()='Taxes']]//span[contains(@class, '_1k4xcdh')]
2024-12-05 14:01:03,161 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_14omvfj')][.//div[contains(text(), 'tax')]]//span[contains(@class, '_1k4xcdh')]
2024-12-05 14:01:13,214 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_j1kt73')]
2024-12-05 14:01:23,263 [INFO] price_checker.py:390 - 尝试使用选择器获取价格详情: //div[contains(@class, '_1avmy66')]//span[contains(@class, '_1qs94rc')]//span
2024-12-05 14:01:43,353 [WARNING] price_checker.py:444 - 尝试点击价格展开按钮失败: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//button[contains(@class, '_12wl7g09')]"}
  (Session info: chrome=126.0.6478.255); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Stacktrace:
	GetHandleVerifier [0x0031FD33+27651]
	(No symbol) [0x002B5554]
	(No symbol) [0x001B1ADF]
	(No symbol) [0x001F2BFE]
	(No symbol) [0x001F2CDB]
	(No symbol) [0x0022EBD2]
	(No symbol) [0x00213954]
	(No symbol) [0x0022CA7D]
	(No symbol) [0x002136A6]
	(No symbol) [0x001E74E1]
	(No symbol) [0x001E805D]
	GetHandleVerifier [0x005D6613+2872547]
	GetHandleVerifier [0x0062BADD+3221933]
	GetHandleVerifier [0x003A2A94+563556]
	GetHandleVerifier [0x003A9DCC+593052]
	(No symbol) [0x002BE3A4]
	(No symbol) [0x002BAE08]
	(No symbol) [0x002BAFA7]
	(No symbol) [0x002AD0AE]
	BaseThreadInitThunk [0x76AD7BA9+25]
	RtlInitializeExceptionChain [0x77ADC0CB+107]
	RtlClearBits [0x77ADC04F+191]
	(No symbol) [0x00000000]

2024-12-05 14:01:43,353 [INFO] price_checker.py:447 - 验证价格信息完整性:
2024-12-05 14:01:43,353 [WARNING] price_checker.py:453 - ✗ cleaning_fee 未获取到
2024-12-05 14:01:43,353 [WARNING] price_checker.py:453 - ✗ service_fee 未获取到
2024-12-05 14:01:43,353 [WARNING] price_checker.py:453 - ✗ taxes 未获取到
2024-12-05 14:01:43,353 [WARNING] price_checker.py:453 - ✗ total 未获取到
2024-12-05 14:01:43,353 [INFO] price_checker.py:456 - 终价格信息获取结果:
2024-12-05 14:01:43,353 [INFO] price_checker.py:458 - check_in: 28/02/2025
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - check_out: 01/03/2025
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - min_nights: 1
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - guests: 3
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - nightly_price: None
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - cleaning_fee: None
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - service_fee: None
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - taxes: None
2024-12-05 14:01:43,354 [INFO] price_checker.py:458 - total: None
2024-12-05 14:01:43,354 [INFO] price_checker.py:506 - ✓ 成功获取 28/02/2025 的价格信息
2024-12-05 14:01:43,354 [INFO] price_checker.py:529 - 
=== 价格数据收集统计 ===
2024-12-05 14:01:43,354 [INFO] price_checker.py:530 - 总可预订日期: 39
2024-12-05 14:01:43,354 [INFO] price_checker.py:531 - 成功收集: 39
2024-12-05 14:01:43,354 [INFO] price_checker.py:532 - 失败日期: 0
2024-12-05 14:01:43,354 [WARNING] data_export.py:95 - price数据缺少必要字段: ['date', 'price', 'currency']
2024-12-05 14:01:43,355 [ERROR] price_checker.py:543 - 价格数据导出失败
2024-12-05 14:01:43,355 [ERROR] advanced_analyzer.py:211 - 获取格数据失败: https://www.airbnb.co.nz/rooms/837352260137971048
2024-12-05 14:01:43,355 [INFO] advanced_analyzer.py:319 - 线程 #1 完成 Room ID: 837352260137971048
2024-12-05 14:01:43,355 [ERROR] advanced_analyzer.py:325 - 处理 Room ID 837352260137971048 时发生错误: 'BitBrowserManager' object has no attribute 'close_tab'
2024-12-05 14:01:45,416 [INFO] advanced_analyzer.py:453 - 汇总报告已保存到: data/airbnb_data_20241205_130139/airbnb_summary_20241205_140145.xlsx
2024-12-05 14:01:45,416 [INFO] advanced_analyzer.py:465 - === 程序执行完成 ===
